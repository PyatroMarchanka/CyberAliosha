{"version":3,"sources":["components/Header/Header.jsx","dataset/dataset.js","dataset/all_chords_for_impro.js","MidiFileCreater/utils.js","components/ChordEditor/components/Chord.jsx","components/ChordEditor/components/Button.jsx","components/ChordEditor/components/ChordMenuEdit.jsx","components/ChordEditor/components/AddedChords.jsx","components/ChordEditor/components/ChordAdder.jsx","MidiFileCreater/Releaser.js","MidiFileCreater/MidiChordsCreator.js","MidiFileCreater/ItemsSearcher.js","components/ChordEditor/ChordEditor.jsx","components/PartEditor/components/Selector.jsx","MidiFileCreater/PatternCreator.js","MidiFileCreater/BarCreator.js","MidiFileCreater/PartCreator.js","MidiFileCreater/PartsFabric.js","MidiFileCreater/CreateMidiFile.js","MidiFileCreater/FileEditor.js","dataset/partOptions.js","components/PartEditor/components/AddedPartHeader.jsx","components/PartEditor/components/AddedParts.jsx","components/PartEditor/PartEditor.jsx","components/MainWindow/MainWindow.jsx","components/Footer/Footer.jsx","App.js","serviceWorker.js","index.js"],"names":["Header","className","DURATIONS","NOTES_MAP_SOLO","randomIntegerRange","min","max","Math","floor","random","findNotes","tone","step","type","chordsForImpro","find","tonica","transposeNote","chord","synth","PolySynth","AMSynth","toMaster","convertChordStringToArr","chordFunction","slice","createDurMeasure","notesLengthType","count","console","log","typeLengthMap","often","middle","seldom","veryOften","verySeldom","whole","half","quarter","eight","sixteen","result","currentAllNotesLength","dur","length","push","note","notesMap","indexOfNote","indexOf","Chord","props","id","key","onClick","e","handleClick","chordNameArr","chordNotes","chordNote","triggerAttackRelease","playChord","chordName","Button","class","text","ChordMenuEdit","deleteChord","replaceChord","deselectChord","AddedChords","state","this","isSelection","selectedChord","showMenu","chords","map","idx","selectChord","Component","ChordAdder","releases","MidiChordsCreator","all_chords","i","releaseChord","randTone","randChord","generateChords","ALL_CHORDS_FOR_IMPROVISE","ItemsSearcher","findAllChords","Error","rest","forEach","toFind","ChordEditor","chordsCreator","chordSearcher","addChord","bind","setUpForReplace","liftUpChords","proposeChordsForLast","getRandomChords","toggleAddedChordsLabel","chordsToAdd","searchItems","addedChords","isForReplace","addedChordsLabel","setChords","setState","0","1","2","target","oldState","innerText","element","deleteIdx","newChords","splice","last","selectedIdx","searchIdx","replaceIdx","getNewChords","Selector","name","options","handleChange","onChange","option","value","PatternCreator","durs","chordPitch","reduce","acc","cur","BarCreator","notesLengthMode","toneJsArr","pattern","restProbability","createRandomBar","createOctave","resultBar","patternNote","index","newNote","createRandomNote","notes","randNoteIndex","randNote","PartCreator","squaresCount","partOptions","getPattern","barCreator","squaresCountToAdd","onInit","createRandomPart","newBar","getRandomBar","PartsFabric","parts","part","CreateMidiFile","chordsCount","loopCounts","partsFabric","getChords","file","Midi","File","tempo","addPart","getParts","addPartInFIle","track","Track","instrument","setTempo","addNote","addTrack","btoa","toBytes","FileEditor","userChords","midiCreator","notesLength","function","addAllPartsInFile","getURI","AddedPartHeader","AddedParts","partOptionsArr","PartEditor","fileLink","addedPartsHeaders","fileEditor","isFile","types","handleSelectorsChange","generateMidi","createNewFile","fileDidDownloaded","JSON","parse","stringify","fullChords","chordString","chordsArr","addNewPart","newPartHeader","href","style","display","alignItems","justifyContent","padding","htmlFor","MainWindow","isChordsSet","bool","Footer","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0d4030b8.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"App-header\">\r\n      <h1>CyberAliosha's \"Parter\"</h1>\r\n    </header>\r\n  );\r\n}\r\n","const NOTE_MODES = {\r\n  dorian: [\"C\", \"D\", \"Eb\", \"F\", \"G\", \"A\", \"Bb\"],\r\n  frigyan: [\"C\", \"Db\", \"Eb\", \"F\", \"G\", \"Ab\", \"Bb\"],\r\n  balkanMinor: [\"C\", \"D\", \"Eb\", \"F#\", \"G\", \"A\", \"Bb\"],\r\n  naturalMajor: [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"],\r\n  naturalMinor: [\"C\", \"D\", \"Eb\", \"F\", \"G\", \"Ab\", \"Bb\"]\r\n};\r\n\r\nconst DURATIONS = [\"1\", \"2\", \"4\", \"8\", \"16\"];\r\n\r\nconst TONALITY_SCALES = [\r\n  [\"Am/C\", [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"G#Abm/B\", [\"G#Ab\", \"A#Bb\", \"B\", \"C#Db\", \"D#Eb\", \"E\", \"F#Gb\"]],\r\n  [\"Bm/D\", [\"B\", \"C#Db\", \"D\", \"E\", \"F#Gb\", \"G\", \"A\"]],\r\n  [\"A#Bbm/C#Db\", [\"A#Bb\", \"C\", \"ะก#Db\", \"D#Eb\", \"F\", \"F#Gb\", \"G#Ab\"]],\r\n  [\"Cm/D#Eb\", [\"C\", \"D\", \"D#Eb\", \"F\", \"G\", \"G#Ab\", \"A#Bb\"]],\r\n  [\"C#Dbm/E\", [\"C#Db\", \"D#Eb\", \"E\", \"F#Gb\", \"G#AB\", \"A\", \"B\"]],\r\n  [\"Dm/F\", [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#Bb\", \"C\"]],\r\n  [\"Em/G\", [\"E\", \"F#Gb\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n  [\"D#Ebm/F#Gb\", [\"D#Eb\", \"F\", \"F#Gb\", \"G#Ab\", \"A#Bb\", \"B\", \"C#Db\"]],\r\n  [\"Fm/G#Ab\", [\"F\", \"G\", \"G#Ab\", \"A#Bb\", \"C\", \"C#Db\", \"D#Eb\"]],\r\n  [\"F#Gbm/A\", [\"F#Gb\", \"G#AB\", \"A\", \"B\", \"C#Db\", \"D\", \"E\"]],\r\n  [\"Gm/A#Bb\", [\"G\", \"A\", \"A#Bb\", \"C\", \"D\", \"D#Eb\", \"F\"]],\r\n  [\"G#m/B\", [\"G#AB\", \"A#Bb\", \"B\", \"C#Db\", \"D#Eb\", \"E\", \"F#Gb\"]]\r\n];\r\n\r\nconst NOTES_MAP = [\r\n  \"A\",\r\n  \"A#Bb\",\r\n  \"B\",\r\n  \"C\",\r\n  \"C#Db\",\r\n  \"D\",\r\n  \"D#Eb\",\r\n  \"E\",\r\n  \"F\",\r\n  \"F#Gb\",\r\n  \"G\",\r\n  \"G#Ab\"\r\n];\r\n\r\nconst NOTES_MAP_SOLO = [\r\n  \"A\",\r\n  \"A#\",\r\n  \"B\",\r\n  \"C\",\r\n  \"C#\",\r\n  \"D\",\r\n  \"D#\",\r\n  \"E\",\r\n  \"F\",\r\n  \"F#\",\r\n  \"G\",\r\n  \"G#\"\r\n];\r\n\r\nexport { TONALITY_SCALES, NOTES_MAP, DURATIONS, NOTE_MODES, NOTES_MAP_SOLO };\r\n","// name!!!!\r\n\r\nexport default [\r\n  [\r\n    [\"A\", \"m\", [\"A\", \"C\", \"E\"], [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n    [\"A\", \"m7\", [\"A\", \"C\", \"E\", \"G\"], [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n    [\"A\", \"m7\", [\"A\", \"C\", \"E\", \"G\"], [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n    [\"A\", \"m7b5\", [\"A\", \"C\", \"D#\", \"G\"], [\"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\"]],\r\n    [\"A\", \"\", [\"A\", \"C#\", \"E\"], [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G#\"]],\r\n    [\"A\", \"7\", [\"A\", \"C#\", \"E\", \"G\"], [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\"]],\r\n    [\"A\", \"7\", [\"A\", \"C#\", \"E\", \"G\"], [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\"]],\r\n    [\r\n      \"A\",\r\n      \"maj\",\r\n      [\"A\", \"C#\", \"E\", \"G#\"],\r\n      [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G#\"]\r\n    ],\r\n    [\r\n      \"A\",\r\n      \"maj\",\r\n      [\"A\", \"C#\", \"E\", \"G#\"],\r\n      [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G#\"]\r\n    ],\r\n    [\"A\", \"dim7\", [\"A\", \"C\", \"D#\", \"F#\"], [\"A#\", \"C\", \"D#\", \"D\", \"F#\", \"G\"]]\r\n  ],\r\n  [\r\n    [\"A#\", \"m\", [\"A#\", \"C#\", \"F\"], [\"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\"]],\r\n    [\r\n      \"A#\",\r\n      \"m7\",\r\n      [\"A#\", \"C#\", \"F\", \"G#\"],\r\n      [\"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\"]\r\n    ],\r\n    [\r\n      \"A#\",\r\n      \"m7\",\r\n      [\"A#\", \"C#\", \"F\", \"G#\"],\r\n      [\"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\"]\r\n    ],\r\n    [\r\n      \"A#\",\r\n      \"m7b5\",\r\n      [\"A#\", \"C#\", \"E\", \"G#\"],\r\n      [\"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\"]\r\n    ],\r\n    [\"A#\", \"\", [\"A#\", \"D\", \"F\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"A\"]],\r\n    [\"A#\", \"7\", [\"A#\", \"D\", \"F\", \"G#\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\"]],\r\n    [\"A#\", \"7\", [\"A#\", \"D\", \"F\", \"G#\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\"]],\r\n    [\"A#\", \"maj\", [\"A#\", \"D\", \"F\", \"A\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"A\"]],\r\n    [\"A#\", \"maj\", [\"A#\", \"D\", \"F\", \"A\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"A\"]],\r\n    [\"A#\", \"dim7\", [\"A#\", \"C#\", \"E\", \"G\"], [\"B\", \"C#\", \"E\", \"D#\", \"G\", \"G#\"]]\r\n  ],\r\n  [\r\n    [\"B\", \"m\", [\"B\", \"D\", \"F#\"], [\"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\"]],\r\n    [\"B\", \"m7\", [\"B\", \"D\", \"F#\", \"A\"], [\"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\"]],\r\n    [\"B\", \"m7\", [\"B\", \"D\", \"F#\", \"A\"], [\"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\"]],\r\n    [\"B\", \"m7b5\", [\"B\", \"D\", \"F\", \"A\"], [\"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"A\"]],\r\n    [\"B\", \"\", [\"B\", \"D#\", \"F#\"], [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A#\"]],\r\n    [\"B\", \"7\", [\"B\", \"D#\", \"F#\", \"A\"], [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\"]],\r\n    [\"B\", \"7\", [\"B\", \"D#\", \"F#\", \"A\"], [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\"]],\r\n    [\r\n      \"B\",\r\n      \"maj\",\r\n      [\"B\", \"D#\", \"F#\", \"A#\"],\r\n      [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A#\"]\r\n    ],\r\n    [\r\n      \"B\",\r\n      \"maj\",\r\n      [\"B\", \"D#\", \"F#\", \"A#\"],\r\n      [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A#\"]\r\n    ],\r\n    [\"B\", \"dim7\", [\"B\", \"D\", \"F\", \"G#\"], [\"C\", \"D\", \"F\", \"E\", \"G#\", \"A\"]]\r\n  ],\r\n  [\r\n    [\"C\", \"m\", [\"C\", \"D#\", \"G\"], [\"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\"]],\r\n    [\"C\", \"m7\", [\"C\", \"D#\", \"G\", \"A#\"], [\"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\"]],\r\n    [\"C\", \"m7\", [\"C\", \"D#\", \"G\", \"A#\"], [\"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\"]],\r\n    [\r\n      \"C\",\r\n      \"m7b5\",\r\n      [\"C\", \"D#\", \"F#\", \"A#\"],\r\n      [\"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\"]\r\n    ],\r\n    [\"C\", \"\", [\"C\", \"E\", \"G\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"]],\r\n    [\"C\", \"7\", [\"C\", \"E\", \"G\", \"A#\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"A#\"]],\r\n    [\"C\", \"7\", [\"C\", \"E\", \"G\", \"A#\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"A#\"]],\r\n    [\"C\", \"maj\", [\"C\", \"E\", \"G\", \"B\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"]],\r\n    [\"C\", \"maj\", [\"C\", \"E\", \"G\", \"B\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"]],\r\n    [\"C\", \"dim7\", [\"C\", \"D#\", \"F#\", \"A\"], [\"C#\", \"D#\", \"F#\", \"F\", \"A\", \"A#\"]]\r\n  ],\r\n  [\r\n    [\"C#\", \"m\", [\"C#\", \"E\", \"G#\"], [\"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\"]],\r\n    [\r\n      \"C#\",\r\n      \"m7\",\r\n      [\"C#\", \"E\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"m7\",\r\n      [\"C#\", \"E\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"m7b5\",\r\n      [\"C#\", \"E\", \"G\", \"B\"],\r\n      [\"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\", \"B\"]\r\n    ],\r\n    [\"C#\", \"\", [\"C#\", \"F\", \"G#\"], [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"C\"]],\r\n    [\r\n      \"C#\",\r\n      \"7\",\r\n      [\"C#\", \"F\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"7\",\r\n      [\"C#\", \"F\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"maj\",\r\n      [\"C#\", \"F\", \"G#\", \"C\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"C\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"maj\",\r\n      [\"C#\", \"F\", \"G#\", \"C\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"C\"]\r\n    ],\r\n    [\"C#\", \"dim7\", [\"C#\", \"E\", \"G\", \"A#\"], [\"D\", \"E\", \"G\", \"F#\", \"A#\", \"B\"]]\r\n  ],\r\n  [\r\n    [\"D\", \"m\", [\"D\", \"F\", \"A\"], [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#\", \"C\"]],\r\n    [\"D\", \"m7\", [\"D\", \"F\", \"A\", \"C\"], [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#\", \"C\"]],\r\n    [\"D\", \"m7\", [\"D\", \"F\", \"A\", \"C\"], [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#\", \"C\"]],\r\n    [\r\n      \"D\",\r\n      \"m7b5\",\r\n      [\"D\", \"F\", \"G#\", \"C\"],\r\n      [\"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\"]\r\n    ],\r\n    [\"D\", \"\", [\"D\", \"F#\", \"A\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C#\"]],\r\n    [\"D\", \"7\", [\"D\", \"F#\", \"A\", \"C\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C\"]],\r\n    [\"D\", \"7\", [\"D\", \"F#\", \"A\", \"C\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C\"]],\r\n    [\"D\", \"maj\", [\"D\", \"F#\", \"A\", \"C#\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C#\"]],\r\n    [\"D\", \"maj\", [\"D\", \"F#\", \"A\", \"C#\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C#\"]],\r\n    [\"D\", \"dim7\", [\"D\", \"F\", \"G#\", \"B\"], [\"D#\", \"F\", \"G#\", \"G\", \"B\", \"C\"]]\r\n  ],\r\n  [\r\n    [\"D#\", \"m\", [\"D#\", \"F#\", \"A#\"], [\"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\"]],\r\n    [\r\n      \"D#\",\r\n      \"m7\",\r\n      [\"D#\", \"F#\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"m7\",\r\n      [\"D#\", \"F#\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"m7b5\",\r\n      [\"D#\", \"F#\", \"A\", \"C#\"],\r\n      [\"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\"]\r\n    ],\r\n    [\"D#\", \"\", [\"D#\", \"G\", \"A#\"], [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"D\"]],\r\n    [\r\n      \"D#\",\r\n      \"7\",\r\n      [\"D#\", \"G\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"7\",\r\n      [\"D#\", \"G\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"maj\",\r\n      [\"D#\", \"G\", \"A#\", \"D\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"D\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"maj\",\r\n      [\"D#\", \"G\", \"A#\", \"D\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"D\"]\r\n    ],\r\n    [\"D#\", \"dim7\", [\"D#\", \"F#\", \"A\", \"C\"], [\"E\", \"F#\", \"A\", \"G#\", \"C\", \"C#\"]]\r\n  ],\r\n  [\r\n    [\"E\", \"m\", [\"E\", \"G\", \"B\"], [\"E\", \"F#\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n    [\"E\", \"m7\", [\"E\", \"G\", \"B\", \"D\"], [\"E\", \"F#\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n    [\"E\", \"m7\", [\"E\", \"G\", \"B\", \"D\"], [\"E\", \"F#\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n    [\"E\", \"m7b5\", [\"E\", \"G\", \"A#\", \"D\"], [\"E\", \"F\", \"G\", \"A\", \"A#\", \"C\", \"D\"]],\r\n    [\"E\", \"\", [\"E\", \"G#\", \"B\"], [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D#\"]],\r\n    [\"E\", \"7\", [\"E\", \"G#\", \"B\", \"D\"], [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\"]],\r\n    [\"E\", \"7\", [\"E\", \"G#\", \"B\", \"D\"], [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\"]],\r\n    [\r\n      \"E\",\r\n      \"maj\",\r\n      [\"E\", \"G#\", \"B\", \"D#\"],\r\n      [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D#\"]\r\n    ],\r\n    [\r\n      \"E\",\r\n      \"maj\",\r\n      [\"E\", \"G#\", \"B\", \"D#\"],\r\n      [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D#\"]\r\n    ],\r\n    [\"E\", \"dim7\", [\"E\", \"G\", \"A#\", \"C#\"], [\"F\", \"G\", \"A#\", \"A\", \"C#\", \"D\"]]\r\n  ],\r\n  [\r\n    [\"F\", \"m\", [\"F\", \"G#\", \"C\"], [\"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\"]],\r\n    [\r\n      \"F\",\r\n      \"m7\",\r\n      [\"F\", \"G#\", \"C\", \"D#\"],\r\n      [\"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\"]\r\n    ],\r\n    [\r\n      \"F\",\r\n      \"m7\",\r\n      [\"F\", \"G#\", \"C\", \"D#\"],\r\n      [\"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\"]\r\n    ],\r\n    [\r\n      \"F\",\r\n      \"m7b5\",\r\n      [\"F\", \"G#\", \"B\", \"D#\"],\r\n      [\"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\"]\r\n    ],\r\n    [\"F\", \"\", [\"F\", \"A\", \"C\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"E\"]],\r\n    [\"F\", \"7\", [\"F\", \"A\", \"C\", \"D#\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\"]],\r\n    [\"F\", \"7\", [\"F\", \"A\", \"C\", \"D#\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\"]],\r\n    [\"F\", \"maj\", [\"F\", \"A\", \"C\", \"E\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"E\"]],\r\n    [\"F\", \"maj\", [\"F\", \"A\", \"C\", \"E\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"E\"]],\r\n    [\"F\", \"dim7\", [\"F\", \"G#\", \"B\", \"D\"], [\"F#\", \"G#\", \"B\", \"A#\", \"D\", \"D#\"]]\r\n  ],\r\n  [\r\n    [\"F#\", \"m\", [\"F#\", \"A\", \"C#\"], [\"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\"]],\r\n    [\r\n      \"F#\",\r\n      \"m7\",\r\n      [\"F#\", \"A\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"m7\",\r\n      [\"F#\", \"A\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\"]\r\n    ],\r\n    [\"F#\", \"m7b5\", [\"F#\", \"A\", \"C\", \"E\"], [\"F#\", \"G\", \"A\", \"B\", \"C\", \"D\", \"E\"]],\r\n    [\"F#\", \"\", [\"F#\", \"A#\", \"C#\"], [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"F\"]],\r\n    [\r\n      \"F#\",\r\n      \"7\",\r\n      [\"F#\", \"A#\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"7\",\r\n      [\"F#\", \"A#\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"maj\",\r\n      [\"F#\", \"A#\", \"C#\", \"F\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"F\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"maj\",\r\n      [\"F#\", \"A#\", \"C#\", \"F\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"F\"]\r\n    ],\r\n    [\"F#\", \"dim7\", [\"F#\", \"A\", \"C\", \"D#\"], [\"G\", \"A\", \"C\", \"B\", \"D#\", \"E\"]]\r\n  ],\r\n  [\r\n    [\"G\", \"m\", [\"G\", \"A#\", \"D\"], [\"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\"]],\r\n    [\"G\", \"m7\", [\"G\", \"A#\", \"D\", \"F\"], [\"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\"]],\r\n    [\"G\", \"m7\", [\"G\", \"A#\", \"D\", \"F\"], [\"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\"]],\r\n    [\r\n      \"G\",\r\n      \"m7b5\",\r\n      [\"G\", \"A#\", \"C#\", \"F\"],\r\n      [\"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\"]\r\n    ],\r\n    [\"G\", \"\", [\"G\", \"B\", \"D\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F#\"]],\r\n    [\"G\", \"7\", [\"G\", \"B\", \"D\", \"F\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"]],\r\n    [\"G\", \"7\", [\"G\", \"B\", \"D\", \"F\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"]],\r\n    [\"G\", \"maj\", [\"G\", \"B\", \"D\", \"F#\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F#\"]],\r\n    [\"G\", \"maj\", [\"G\", \"B\", \"D\", \"F#\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F#\"]],\r\n    [\"G\", \"dim7\", [\"G\", \"A#\", \"C#\", \"E\"], [\"G#\", \"A#\", \"C#\", \"C\", \"E\", \"F\"]]\r\n  ],\r\n  [\r\n    [\"G#\", \"m\", [\"G#\", \"B\", \"D#\"], [\"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\"]],\r\n    [\r\n      \"G#\",\r\n      \"m7\",\r\n      [\"G#\", \"B\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"m7\",\r\n      [\"G#\", \"B\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"m7b5\",\r\n      [\"G#\", \"B\", \"D\", \"F#\"],\r\n      [\"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\"]\r\n    ],\r\n    [\"G#\", \"\", [\"G#\", \"C\", \"D#\"], [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"G\"]],\r\n    [\r\n      \"G#\",\r\n      \"7\",\r\n      [\"G#\", \"C\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"7\",\r\n      [\"G#\", \"C\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"maj\",\r\n      [\"G#\", \"C\", \"D#\", \"G\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"G\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"maj\",\r\n      [\"G#\", \"C\", \"D#\", \"G\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"G\"]\r\n    ],\r\n    [\"G#\", \"dim7\", [\"G#\", \"B\", \"D\", \"F\"], [\"A\", \"B\", \"D\", \"C#\", \"F\", \"F#\"]]\r\n  ]\r\n];\r\n","import { NOTES_MAP_SOLO } from \"../dataset/dataset\";\r\nimport { PolySynth, AMSynth } from \"tone\";\r\nimport chordsForImpro from \"../dataset/all_chords_for_impro\";\r\n\r\nfunction randomIntegerRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nfunction chordNamesToFullArr(chordNames) {\r\n  const chordsArrs = chordNames.map(chordString =>\r\n    convertChordStringToArr(chordString)\r\n  );\r\n  const fullChordsArr = chordsArrs.map(chordsArr => findNotes(chordsArr[0], 0, chordsArr[1]))\r\n  return fullChordsArr;\r\n}\r\n\r\n function findNotes(tone, step, type) {\r\n  return chordsForImpro\r\n    .find(tonica => tonica[0][0] === transposeNote(tone, step, NOTES_MAP_SOLO))\r\n    .find(chord => chord[1] === type);\r\n}\r\n\r\nconst synth = new PolySynth(5, AMSynth).toMaster()\r\n\r\nfunction playChord(chord){\r\n  const chordNameArr = convertChordStringToArr(chord);\r\n  const chordNotes = findNotes(chordNameArr[0], 0, chordNameArr[1])[2];\r\n  for(let chordNote of chordNotes){\r\n      synth.triggerAttackRelease(chordNote + '4', 1);\r\n   }\r\n}\r\n\r\nfunction convertChordStringToArr(chord) {\r\n  let tone;\r\n  let chordFunction;\r\n  if (chord[1] === \"#\") {\r\n    tone = chord.slice(0, 2);\r\n    chordFunction = chord.slice(2);\r\n  } else {\r\n    tone = chord.slice(0, 1);\r\n    chordFunction = chord.slice(1);\r\n  }\r\n\r\n  return [tone, chordFunction];\r\n}\r\n\r\nfunction createDurMeasure(notesLengthType, count) {\r\n  console.log('notesLengthType',notesLengthType)\r\n  const typeLengthMap = {\r\n    often: [2, 4, 8, 8, 8, 16, 16, 16],\r\n    middle: [2, 4, 4, 4, 4, 8, 8, 8],\r\n    seldom: [1, 1, 2, 2, 2, 4],\r\n    veryOften: [8, 16],\r\n    verySeldom: [1, 2],\r\n    whole: [1],\r\n    half: [2],\r\n    quarter: [4],\r\n    eight: [8], \r\n    sixteen: [16]\r\n  };\r\n  let result = [];\r\n  let currentAllNotesLength = 0;\r\n  while (currentAllNotesLength < 1) {\r\n    let dur =\r\n      1 /\r\n      typeLengthMap[notesLengthType][\r\n        randomIntegerRange(0, typeLengthMap[notesLengthType].length)\r\n      ];\r\n    result.push(dur);\r\n    currentAllNotesLength += dur;\r\n  } \r\n  const space = 1;\r\n  result[result.length - 1] =\r\n    result[result.length - 1] - (currentAllNotesLength - space);\r\n  return result;\r\n}\r\n\r\n\r\n function transposeTonality(tonality, step) {\r\n  const newTonality = JSON.parse(JSON.stringify(tonality));\r\n  newTonality[0] = newTonality[0]\r\n    .split(\"m/\")\r\n    .map(note => transposeNote(note, step))\r\n    .join(\"m/\");\r\n  newTonality[1] = newTonality[1].map(noteChords => {\r\n    console.log(noteChords);\r\n    noteChords[0] = transposeNote(noteChords[0], step);\r\n    return noteChords;\r\n  });\r\n  return newTonality;\r\n}\r\n\r\n\r\nconst CHORDS_MAP = [\r\n  [\"A\", \"m\", [\"A\", \"C\", \"E\"]],\r\n  [\"A\", \"m7\", [\"A\", \"C\", \"E\", \"G\"]],\r\n  [\"A\", \"m9\", [\"A\", \"C\", \"E\", \"G\", \"B\"]],\r\n  [\"A\", \"m7b5\", [\"A\", \"C\", \"D#Eb\", \"G\"]],\r\n  [\"A\", \"mAdd9\", [\"A\", \"C\", \"E\", \"G\", \"B\"]],\r\n\r\n  [\"A\", \"sus2\", [\"A\", \"B\", \"E\"]],\r\n  [\"A\", \"sus4\", [\"A\", \"C\", \"D\"]],\r\n  [\"A\", \"7sus2\", [\"A\", \"B\", \"E\", \"G\"]],\r\n  [\"A\", \"7sus4\", [\"A\", \"C\", \"D\", \"G\"]],\r\n  [\"A\", \"\", [\"A\", \"C#Db\", \"E\"]],\r\n  [\"A\", \"7\", [\"A\", \"C#Db\", \"E\", \"G\"]],\r\n  [\"A\", \"maj\", [\"A\", \"C#Db\", \"E\", \"G#Ab\"]],\r\n  [\"A\", \"majAdd9\", [\"A\", \"C#Db\", \"E\", \"G#Ab\", \"B\"]],\r\n  [\"A\", \"dim7\", [\"A\", \"C\", \"D#Eb\", \"F#Gb\"]],\r\n  [\"A\", \"aug\", [\"A\", \"C#Db\", \"F\"]]\r\n];\r\n\r\nconst CHORD_BIG = [\r\n  [\"A\", \"m\", [\"A\", \"C\", ], [\"B\", \"D\",\"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m7\", [\"A\", \"C\", \"G\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m7\", [\"A\", \"C\", \"G\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m9\", [\"A\", \"C\", \"G\", \"B\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m9\", [\"A\", \"C\", \"G\", \"B\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m7b5\", [\"A\", \"C\", \"G\"], [\"B\", \"D#\", \"D\", \"F\", \"G\"]],\r\n  [\"A\", \"mAdd9\", [\"A\", \"C\", \"G\", \"B\"], [\"B\", \"E\", \"D\", \"F\", \"G\"]],\r\n  [\"A\", \"\", [\"A\", \"C#\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"7\", [\"A\", \"C#\", \"G\"], [\"B\", \"E\", \"D\", \"F#\", \"G\"]],\r\n  [\"A\", \"7\", [\"A\", \"C#\", \"G\"], [\"B\", \"E\", \"D\", \"F#\", \"G\"]],\r\n  [\"A\", \"maj\", [\"A\", \"C#\", \"G#\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"maj\", [\"A\", \"C#\", \"G#\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"majAdd9\", [\"A\", \"C#\", \"G#\", \"B\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"dim7\", [\"A\", \"C\", \"D#\", \"F#\"], [\"A#\", \"C\", \"D#\", \"D\", \"F#\", \"G\"]]\r\n];\r\nfunction transposeNote(note, step, notesMap) {\r\n  let indexOfNote = notesMap.indexOf(note);\r\n  if (step < 0) {\r\n    step = notesMap.length - step;\r\n  }\r\n  return notesMap[(indexOfNote + step) % notesMap.length];\r\n}\r\n\r\nfunction transposeChord(chord, step, notes) {\r\n  let newChord = JSON.parse(JSON.stringify(chord));\r\n  newChord[0] = transposeNote(newChord[0], step, notes);\r\n  newChord[2] = newChord[2].map(note => {\r\n    note = transposeNote(note, step, notes);\r\n    return note;\r\n  });\r\n  newChord[3] = newChord[3].map(note => {\r\n    note = transposeNote(note, step, notes);\r\n    return note;\r\n  });\r\n  return newChord;\r\n}\r\n\r\nfunction transposeTone(toneOfChords, step) {\r\n  let newTone = JSON.parse(JSON.stringify(toneOfChords));\r\n  return newTone.map(chord => transposeChord(chord, step, NOTES_MAP_SOLO));\r\n}\r\n\r\nfunction getDataSet(chordsMap) {\r\n  let allChords = [];\r\n\r\n  for (let index = 0; index < 12; index++) {\r\n    allChords.push(transposeTone(chordsMap, index, NOTES_MAP_SOLO));\r\n  }\r\n  return JSON.stringify(allChords);\r\n}\r\n\r\nexport { \r\n  transposeNote, \r\n  randomIntegerRange, \r\n  getDataSet, \r\n  createDurMeasure, \r\n  playChord, \r\n  transposeTonality,\r\n  convertChordStringToArr,\r\n  findNotes,\r\n  chordNamesToFullArr\r\n};\r\n","import React from \"react\";\r\nimport { playChord } from \"../../../MidiFileCreater/utils\";\r\n\r\nexport default function Chord(props) {\r\n  return (\r\n  <button id={props.id} key={props.id}  className=\"btn btn-outline-dark\" onClick={(e) => {\r\n    props.handleClick(e);\r\n    playChord(props.chordName);\r\n  }\r\n}>{props.chordName}</button>\r\n  )\r\n  \r\n  \r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <button className={`${props.class} btn-outline-dark`} onClick={props.handleClick}>\r\n      {props.text}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nexport default function ChordMenuEdit(props) {\r\n  return (\r\n    <div className=\"chord-menu\">\r\n        <Button class=\"btn\" handleClick={props.deleteChord} text=\"Delete chord\" />\r\n        <Button class=\"btn\"  handleClick={props.replaceChord} text=\"Replace chord\" />\r\n        <Button class=\"btn\"  handleClick={props.deselectChord} text=\"Cancel\" />\r\n    </div>\r\n  )\r\n  \r\n  \r\n}\r\n","import React, { Component } from \"react\";\r\nimport Chord from \"./Chord\";\r\nimport ChordMenuEdit from \"./ChordMenuEdit\";\r\n\r\nexport default class AddedChords extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  showMenu() {\r\n    return (\r\n      this.props.isSelection && (\r\n        <ChordMenuEdit\r\n          deleteChord={() => this.props.deleteChord(this.props.selectedChord)}\r\n          replaceChord={this.props.replaceChord}\r\n          deselectChord={this.props.deselectChord}\r\n        />\r\n      )\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"added-chords text-white\">\r\n        <h3 className=\"App-chord-editor text-white\">Added Chords</h3>\r\n        {this.showMenu()}\r\n        {this.props.chords.length > 0 ? (\r\n          <div className=\"grid-col-4\">\r\n            {this.props.chords.map((chord, idx) => (\r\n              <Chord\r\n                id={idx + \"-added-chord\"}\r\n                key={idx + \"-added-chord\"}\r\n                chordName={chord}\r\n                handleClick={this.props.selectChord}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          \"Chords have not been added!\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Chord from \"./Chord\";\r\n\r\nexport default class ChordAdder extends Component {\r\n  componentDidMount() {}\r\n\r\n  componentWillUnmount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App-chord-editor \">\r\n        <h3>Chord Adder</h3>\r\n        <div className=\"grid-col-4\">\r\n          {this.props.chords ? \r\n          this.props.chords.map((chord, idx) => (\r\n            <Chord\r\n              key={idx + \"-chord-to-add\"}\r\n              id={idx + \"-chord-to-add\"}\r\n              chordName={chord[0] + chord[1]}\r\n              handleClick={this.props.handleClick}\r\n            />\r\n          )) :\r\n          null\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { randomIntegerRange, findNotes } from \"./utils\";\r\n\r\nexport default function releases(chord) {\r\n  if (!chord) return;\r\n\r\n  let result;\r\n  if (chord[1] === \"dim7\") {\r\n    switch (randomIntegerRange(1, 5)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 1, \"maj\");\r\n        break;\r\n      case 2:\r\n        result = findNotes(chord[0], 4, \"m7\");\r\n        break;\r\n      case 3:\r\n        result = findNotes(chord[0], 7, \"maj\");\r\n        break;\r\n      case 4:\r\n        result = findNotes(chord[0], 10, \"m\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  if (chord[1] === \"7\") {\r\n    result = findNotes(chord[0], 5, Math.random() > 0.5 ? \"m7\" : \"maj\");\r\n    return result;\r\n  }\r\n  if (chord[1] === \"m7b5\") {\r\n    switch (randomIntegerRange(1, 8)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 5, \"7\");\r\n        break;\r\n        case 2:\r\n        result = findNotes(chord[0], 9, \"dim7\");\r\n        break;\r\n    \r\n      default:\r\n        break;\r\n    }\r\n    result = findNotes(chord[0], 5, \"7\");\r\n    return result;\r\n  }\r\n\r\n  if (chord[1] === \"m\" || chord[1] === \"m7\" || chord[1] === \"mAdd9\") {\r\n    switch (randomIntegerRange(1, 5)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 3, \"maj\");\r\n        break;\r\n      case 2:\r\n        result = findNotes(chord[0], 5, \"m7\");\r\n        break;\r\n      case 3:\r\n        result = findNotes(chord[0], 7, \"7\");\r\n        break;\r\n      case 4:\r\n        result = findNotes(chord[0], 8, \"maj\");\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  if (chord[1] === \"\" || chord[1] === \"maj\") {\r\n    switch (randomIntegerRange(1, 10)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 2, \"m\");\r\n        break;\r\n      case 2:\r\n        result = findNotes(chord[0], 4, \"m7\");\r\n        break;\r\n      case 3:\r\n        result = findNotes(chord[0], 5, \"maj\");\r\n        break;\r\n      case 4:\r\n        result = findNotes(chord[0], 7, \"7\");\r\n        break;\r\n      case 5:\r\n        result = findNotes(chord[0], 9, \"m7\");\r\n        break;\r\n      case 6:\r\n        result = findNotes(chord[0], 11, \"m7b5\");\r\n        break;\r\n      case 7:\r\n        result = findNotes(chord[0], 2, \"7\");\r\n        break;\r\n      case 8:\r\n        result = findNotes(chord[0], 11, \"m7\");\r\n        break;\r\n      case 9:\r\n        result = findNotes(chord[0], 7, \"maj\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  return result;\r\n}\r\n\r\n","import ALL_CHORDS_FOR_IMPROVISE from \"../dataset/all_chords_for_impro\";\r\nimport { randomIntegerRange } from \"./utils\";\r\nimport releases from \"./Releaser\";\r\n\r\nexport default class MidiChordsCreator {\r\n  constructor() {\r\n    this.chords = [];\r\n  }\r\n\r\n  generateChords(all_chords, count) {\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n      const releaseChord = releases(result[i - 1]);\r\n      if (releaseChord) {\r\n        result.push(releaseChord);\r\n        continue;\r\n      }\r\n      const randTone = all_chords[randomIntegerRange(0, all_chords.length)];\r\n      let randChord = randTone[randomIntegerRange(0, randTone.length)];\r\n      result.push(randChord);\r\n    }\r\n    return result.slice(0, count);\r\n  }\r\n\r\n  getNewChords(count){\r\n   const chords = this.generateChords(ALL_CHORDS_FOR_IMPROVISE, count);\r\n      return chords;\r\n  }\r\n\r\n\r\n  getChords(){\r\n      return this.chords;\r\n  }\r\n}\r\n","import { convertChordStringToArr, findNotes } from \"./utils\";\r\n\r\nexport default class ItemsSearcher {\r\n  searchItems(chord) {\r\n    if (!chord) return;\r\n\r\n    chord = convertChordStringToArr(chord);\r\n\r\n    let result;\r\n    if (chord[1] === \"dim7\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"dim7\"],\r\n        [1, \"maj\"],\r\n        [4, \"m7\"],\r\n        [7, \"maj\"],\r\n        [10, \"m\"]\r\n      );\r\n    }\r\n    if (chord[1] === \"7\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"7\"],\r\n        [5, \"m7\"],\r\n        [5, \"m\"],\r\n        [5, \"\"],\r\n        [5, \"maj\"],\r\n        [2, \"m\"],\r\n        [2, \"m7\"]\r\n      );\r\n    }\r\n\r\n    if (chord[1] === \"m7b5\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"m7b5\"],\r\n        [10, \"m\"],\r\n        [10, \"m7\"],\r\n        [5, \"7\"],\r\n        [9, \"dim7\"]\r\n      );\r\n    }\r\n\r\n    if (chord[1] === \"m\" || chord[1] === \"m7\" || chord[1] === \"mAdd9\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"m\"],\r\n        [0, \"m7\"],\r\n        [2, \"7\"],\r\n        [3, \"maj\"],\r\n        [5, \"m7\"],\r\n        [7, \"7\"],\r\n        [7, \"m7\"],\r\n        [8, \"maj\"],\r\n        [10, \"maj\"]\r\n      );\r\n    }\r\n\r\n    if (chord[1] === \"\" || chord[1] === \"maj\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"\"],\r\n        [0, \"maj\"],\r\n        [2, \"m\"],\r\n        [4, \"\"],\r\n        [4, \"7\"],\r\n        [4, \"m7\"],\r\n        [5, \"maj\"],\r\n        [7, \"7\"],\r\n        [9, \"m7\"],\r\n        [11, \"m7b5\"],\r\n        [2, \"7\"],\r\n        [11, \"m7\"],\r\n        [7, \"maj\"]\r\n      );\r\n    }\r\n    if (!result.length) {\r\n      throw new Error(`Unknown chord ${chord[0] + chord[1]}`);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\n\r\n// export function chordNamesToFullArr(chordNames) {\r\n//   const chordsArrs = chordNames.map(chordString =>\r\n//     convertChordStringToArr(chordString)\r\n//   );\r\n//   const fullChordsArr = chordsArrs.map(chordsArr => findNotes(chordsArr[0], 0, chordsArr[1]))\r\n//   return fullChordsArr;\r\n// }\r\n\r\n// export function convertChordStringToArr(chord) {\r\n//   let tone;\r\n//   let chordFunction;\r\n//   if (chord[1] === \"#\") {\r\n//     tone = chord.slice(0, 2);\r\n//     chordFunction = chord.slice(2);\r\n//   } else {\r\n//     tone = chord.slice(0, 1);\r\n//     chordFunction = chord.slice(1);\r\n//   }\r\n\r\n//   return [tone, chordFunction];\r\n// }\r\n\r\n\r\nfunction findAllChords(chord, ...rest) {\r\n  const result = [];\r\n  rest.forEach(toFind => {\r\n    result.push(findNotes(chord[0], toFind[0], toFind[1]));\r\n  });\r\n  return result;\r\n}\r\n\r\n// export function findNotes(tone, step, type) {\r\n//   return chordsForImpro\r\n//     .find(tonica => tonica[0][0] === transposeNote(tone, step, NOTES_MAP_SOLO))\r\n//     .find(chord => chord[1] === type);\r\n// }\r\n","import React, { Component } from \"react\";\r\nimport AddedChords from \"./components/AddedChords\";\r\nimport ChordAdder from \"./components/ChordAdder\";\r\nimport MidiChordsCreator from \"../../MidiFileCreater/MidiChordsCreator\";\r\nimport ItemsSearcher from \"../../MidiFileCreater/ItemsSearcher\";\r\nimport Button from \"./components/Button\";\r\n\r\nexport default class ChordEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.chordsCreator = new MidiChordsCreator();\r\n    this.chordSearcher = new ItemsSearcher();\r\n    this.addChord = this.addChord.bind(this);\r\n    this.deleteChord = this.deleteChord.bind(this);\r\n    this.replaceChord = this.replaceChord.bind(this);\r\n    this.setUpForReplace = this.setUpForReplace.bind(this);\r\n    this.selectChord = this.selectChord.bind(this);\r\n    this.deselectChord = this.deselectChord.bind(this);\r\n    this.liftUpChords = this.liftUpChords.bind(this);\r\n    this.proposeChordsForLast = this.proposeChordsForLast.bind(this);\r\n    this.getRandomChords = this.getRandomChords.bind(this);\r\n    this.toggleAddedChordsLabel =  this.toggleAddedChordsLabel.bind(this)\r\n\r\n    this.state = {\r\n      chordsToAdd: this.chordSearcher.searchItems(\"C\"),\r\n      addedChords: [],\r\n      isForReplace: false,\r\n      isSelection: false,\r\n      selectedChord: null,\r\n      addedChordsLabel: \"Click 'Set these chords' to set\"\r\n    };\r\n  }\r\n\r\n  liftUpChords() {\r\n    if(this.state.addedChords.length < 1){\r\n      this.toggleAddedChordsLabel(2)\r\n      return;\r\n    }\r\n    this.props.setChords(this.state.addedChords, true)\r\n    this.toggleAddedChordsLabel(1)\r\n  }\r\n\r\n  toggleAddedChordsLabel(state) {\r\n    const map = {\r\n      0: \"Click 'Set these chords' to set\",\r\n      1: \"Chords have been added!\",\r\n      2: \"Chords have not been added!\"\r\n    }\r\n    this.setState({\r\n      addedChordsLabel: map[state]\r\n    });\r\n  }\r\n\r\n  selectChord(e) {\r\n    this.setState({\r\n      isSelection: true,\r\n      selectedChord: e.target\r\n    });\r\n  }\r\n\r\n  deselectChord() {\r\n    this.setState({\r\n      isSelection: false,\r\n      isForReplace: false,\r\n      selectedChord: null\r\n    });\r\n    this.proposeChordsForLast();\r\n  }\r\n\r\n  addChord(e) {\r\n    const oldState = [...this.state.addedChords];\r\n    this.setState({\r\n      chordsToAdd: this.chordSearcher.searchItems(e.target.innerText),\r\n      addedChords: [...oldState, e.target.innerText]\r\n    });\r\n  }\r\n\r\n  deleteChord(element) {\r\n    const deleteIdx = +element.id[0];\r\n    const newChords = [...this.state.addedChords];\r\n    newChords.splice(deleteIdx, 1);\r\n    this.setState({\r\n      addedChords: newChords\r\n    });\r\n  }\r\n\r\n  proposeChordsForLast() {\r\n    const last = this.state.addedChords[this.state.addedChords.length - 1];\r\n    console.log(last);\r\n    this.setState({\r\n      chordsToAdd: this.chordSearcher.searchItems(last)\r\n    });\r\n  }\r\n\r\n  setUpForReplace() {\r\n    const selectedIdx = +this.state.selectedChord.id[0];\r\n    const searchIdx = selectedIdx === 0 ? 0 : selectedIdx - 1;\r\n    this.setState({\r\n      chordsToAdd: this.chordSearcher.searchItems(\r\n        this.state.addedChords[searchIdx]\r\n      ),\r\n      isForReplace: true\r\n    });\r\n  }\r\n\r\n  replaceChord(e) {\r\n    const replaceIdx = +this.state.selectedChord.id[0];\r\n    const newChords = [...this.state.addedChords];\r\n    newChords.splice(replaceIdx, 1, e.target.innerText);\r\n    this.setState({\r\n      addedChords: newChords,\r\n      isForReplace: false\r\n    });\r\n  }\r\n\r\n  getRandomChords() {\r\n    const chords = this.chordsCreator.getNewChords(8);\r\n    console.log(chords);\r\n    this.setState({\r\n      addedChords: chords.map(chord => chord[0] + chord[1])\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"text-white\">\r\n        <AddedChords\r\n          chords={this.state.addedChords}\r\n          selectedChord={this.state.selectedChord}\r\n          selectChord={this.selectChord}\r\n          isSelection={this.state.isSelection}\r\n          deleteChord={this.deleteChord}\r\n          replaceChord={this.setUpForReplace}\r\n          deselectChord={this.deselectChord}\r\n        />\r\n        <ChordAdder\r\n          chords={this.state.chordsToAdd}\r\n          handleClick={\r\n            this.state.isForReplace ? this.replaceChord : this.addChord\r\n          }\r\n        />\r\n        <Button handleClick={this.getRandomChords} text=\"Set random chords\" class=\"btn btn-big mb-20\"/>\r\n        <div>\r\n        <Button handleClick={this.liftUpChords} text=\"Set these chords\" class=\"btn btn-big mb-20\"/>\r\n        </div>\r\n        {this.state.addedChordsLabel}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Selector({ name, id, options, handleChange }) {\r\n  return (\r\n    <select name={name} key={id} id={id} onChange={handleChange} className=\"selector mb-20\">\r\n        {\r\n            options.map((option, idx) => {\r\n            return <option key={idx} value={option[0]}>{`${name}: ${option[1]}`}</option>\r\n            })\r\n        }\r\n    </select>\r\n  );\r\n}\r\n","import {\r\n  randomIntegerRange,\r\n  createDurMeasure\r\n} from \"./utils\";\r\n\r\nexport default class PatternCreator {\r\n  getPattern(notesLengthType, type) {\r\n    const durs = createDurMeasure(notesLengthType, type);\r\n    const result = [];\r\n    durs.forEach((dur, idx) => {\r\n        console.log(idx);\r\n      if (idx === 0 && type === \"bass\") {\r\n        console.log(\"bass 0 note tonic\");\r\n        result.push({\r\n          chordPitch: 0,\r\n          dur: dur\r\n        });\r\n      }\r\n      else if (type === \"bass\" && idx === 1 && durs[0] < 0.25) {\r\n        console.log(\"bass 1 note tonic\");\r\n        result.push({\r\n          chordPitch: 0,\r\n          dur: dur\r\n        });\r\n      } else {\r\n          console.log('not the bass');\r\n        result.push({\r\n          chordPitch: randomIntegerRange(0, 3),\r\n          dur: dur\r\n        });\r\n      }\r\n    });\r\n    console.log(result);\r\n    console.log(result.reduce((acc, cur) => acc + cur.dur, 0));\r\n    return result;\r\n  }\r\n}\r\n","import { DURATIONS } from \"../dataset/dataset\";\r\nimport { randomIntegerRange, createDurMeasure } from \"./utils\";\r\n\r\nexport default class BarCreator {\r\n  constructor(notesLengthMode, type) {\r\n    this.type = type;\r\n    this.notesLengthMode = notesLengthMode;\r\n    this.toneJsArr = [];\r\n  }\r\n\r\n  getRandomBar(chord, idx, pattern, restProbability) {\r\n    this.toneJsArr = this.createRandomBar(chord, pattern, restProbability);\r\n    this.createOctave(idx);\r\n    return this.toneJsArr;\r\n  }\r\n\r\n  createRandomBar(chord, pattern, restProbability) {\r\n    let resultBar = [];\r\n    if (pattern) {\r\n      pattern.map(patternNote => {\r\n        resultBar.push({\r\n          note: Math.random() > restProbability ? chord[2][patternNote.chordPitch] : '',\r\n          dur: patternNote.dur\r\n        });\r\n      });\r\n      return resultBar;\r\n    }\r\n    const durs = createDurMeasure(this.notesLengthMode);\r\n    for (let index = 0; index < durs.length; index++) {\r\n      // const chordNotes = 2;\r\n      // const chordModeNotes = 3;\r\n\r\n      // let notesMapIndex =\r\n      //   (this.type === \"soprano\" || this.type === \"tenor\") &&\r\n      //   durs[index] <= 0.125\r\n      //     ? chordModeNotes\r\n      //     : chordNotes;\r\n\r\n      const newNote = this.createRandomNote(chord[2], durs[index], null, restProbability);\r\n\r\n      // if (\r\n      //   this.type === \"no chomatic!\" &&\r\n      //   Math.random() > 0.75 &&\r\n      //   index % 2 === 1 &&\r\n      //   (chord[1] === \"7\" || chord[1] === \"dim7\" || chord[1] === \"m7b5\")\r\n      // ) {\r\n      //   const possibleChromatismNote = transposeNote(\r\n      //     newNote.note,\r\n      //     Math.random() > 0.5 ? -1 : 1,\r\n      //     NOTES_MAP\r\n      //   );\r\n      //   const possibleCrom = this.createRandomNote(\r\n      //     chord[2],\r\n      //     durs[++index] || 0.5,\r\n      //     possibleChromatismNote\r\n      //   );\r\n      //   resultBar.push(possibleCrom);\r\n      // }\r\n      resultBar.push(newNote);\r\n    }\r\n    return resultBar;\r\n  }\r\n\r\n  createOctave(idx) {\r\n    if (this.type === \"soprano\") {\r\n      this.toneJsArr = this.toneJsArr.map(note => {\r\n        if (!note.note) {\r\n          return note;\r\n        }\r\n        note.note =\r\n          note.note + (idx % 5 === 0 ? \"4\" : idx % 9 === 0 ? \"6\" : \"5\");\r\n        return note;\r\n      });\r\n    }\r\n    if (this.type === \"bass\") {\r\n      this.toneJsArr = this.toneJsArr.map(note => {\r\n        if (!note.note) {\r\n          return note;\r\n        }\r\n        note.note = note.note + (idx % 6 === 0 ? \"2\" : \"3\");\r\n        return note;\r\n      });\r\n    }\r\n    if (this.type === \"tenor\") {\r\n      this.toneJsArr = this.toneJsArr.map(note => {\r\n        if (!note.note) {\r\n          return note;\r\n        }\r\n        note.note = note.note + (idx % 6 === 0 ? \"3\" : \"4\");\r\n        return note;\r\n      });\r\n    }\r\n  }\r\n\r\n  createRandomNote(notes, dur, note, restProbability) {\r\n    const randNoteIndex = randomIntegerRange(0, notes.length);\r\n    const randNote = {\r\n      note: Math.random() > restProbability ? (note ? note : notes[randNoteIndex]) : '',\r\n      dur: dur || 1 / +DURATIONS[randomIntegerRange(1, DURATIONS.length)]\r\n    };\r\n    console.log(randNote);\r\n    return randNote;\r\n  }\r\n}\r\n","import PatternCreator from \"./PatternCreator\";\r\nimport BarCreator from \"./BarCreator\";\r\n\r\nexport default class PartCreator {\r\n  constructor(chords, squaresCount, partOptions) {\r\n    console.log(\"partOptions\", partOptions);\r\n    this.pattern =\r\n      partOptions.pattern === \"accompaniment\" &&\r\n      new PatternCreator().getPattern(\r\n        partOptions.notes,\r\n        partOptions.type\r\n      );\r\n    console.log(\"this pattern\", this.pattern);\r\n    this.chords = chords;\r\n    this.barCreator = new BarCreator(partOptions.notes, partOptions.type);\r\n    this.squaresCountToAdd = squaresCount;\r\n    this.notes = [];\r\n    console.log('partOptions.restProbability',partOptions.restProbability)\r\n    this.onInit(partOptions.restProbability / 100);\r\n  }\r\n\r\n  onInit(restProbability) {\r\n    this.createRandomPart(restProbability);\r\n  }\r\n\r\n  createRandomPart(restProbability) {\r\n    for (let index = 0; index < this.squaresCountToAdd; index++) {\r\n      for (let idx in this.chords) {\r\n        const newBar = this.barCreator.getRandomBar(\r\n          this.chords[idx],\r\n          idx,\r\n          this.pattern,\r\n          restProbability\r\n        );\r\n        this.notes = [...this.notes, ...newBar];\r\n      }\r\n    }\r\n  }\r\n}\r\n","import PartCreator from './PartCreator'\r\n\r\nexport default class PartsFabric {\r\n    constructor(chords, squaresCount){\r\n        this.chords = chords;\r\n        console.log('this.chords ', this.chords);\r\n        this.parts = [];\r\n        this.squaresCount = squaresCount;\r\n    }\r\n\r\n    addPart(partOptions){\r\n        console.log('partOptions',partOptions);\r\n        const part = new PartCreator(this.chords, this.squaresCount,partOptions  ).notes;\r\n        this.parts.push(part);\r\n        console.log(this.parts);\r\n    }\r\n\r\n    \r\n\r\n    getParts(){\r\n        return this.parts;\r\n    }\r\n}","import PartsFabric from \"./PartsFabric\";\r\nimport MidiChordsCreator from './MidiChordsCreator'\r\nimport { randomIntegerRange } from './utils'\r\nimport Midi from 'jsmidgen';\r\n\r\nexport default class CreateMidiFile {\r\n  constructor(chords, chordsCount = 8, loopCounts = 2, tempo = 120) {\r\n    this.chords = chords || new MidiChordsCreator(chordsCount);\r\n    this.partsFabric = new PartsFabric(chords || this.chords.getChords(), loopCounts);\r\n    this.file = new Midi.File();\r\n    this.parts = [];\r\n    this.tempo = randomIntegerRange(80, 130);\r\n  }\r\n\r\n  addPart(partOptions) {\r\n    this.partsFabric.addPart(partOptions);\r\n  }\r\n\r\n  createMidiFile() {\r\n    this.file = new Midi.File();\r\n  }\r\n\r\n  addAllPartsInFile(){\r\n      this.partsFabric.getParts().forEach((part) => this.addPartInFIle(part))\r\n  }\r\n\r\n  addPartInFIle(part) {\r\n    const track = new Midi.Track();\r\n    track.instrument(0, 0x1E);\r\n    track.setTempo(this.tempo);\r\n    for (let note of part) {\r\n        track.addNote(0, note.note, 512 * note.dur);\r\n    }\r\n    this.file.addTrack(track);\r\n  }\r\n\r\n  getURI() {\r\n    return \"data:audio/mid;base64,\" + btoa(this.file.toBytes());\r\n  }\r\n}\r\n","import CreateMidiFile from \"./CreateMidiFile\";\r\nexport default class FileEditor {\r\n  constructor() {\r\n    this.userChords = null;\r\n    this.midiCreator = null;\r\n    this.partOptions = {\r\n        type: \"soprano\",\r\n        notesLength: 'often',\r\n        function: 'solo',\r\n        restProbability: 0.2\r\n    };\r\n  }\r\n\r\n  createNewFile(chords){\r\n    this.midiCreator = new CreateMidiFile(chords);\r\n  }\r\n\r\n  generateMidi() {\r\n    this.midiCreator.addAllPartsInFile();\r\n    // this.downloadButton.setAttribute(\"href\", `${this.midiCreator.getURI()}`);\r\n    // this.midiCreator = new CreateMidiFile(this.userChords);\r\n  }\r\n\r\n  addNewPart() {\r\n    this.midiCreator.addPart(this.partOptions);\r\n    // const newPart = document.createElement(\"div\");\r\n    // newPart.innerText = this.addedPartText();\r\n  }\r\n  getURI(){\r\n    return this.midiCreator.getURI();\r\n  }\r\n  \r\n}\r\n","export default {\r\n    types: [\r\n        [\"soprano\", \"Soprano\"],\r\n        [\"tenor\", \"Tenor\"],\r\n        [\"bass\", \"Bass\"]\r\n      ],\r\n      function: [\r\n        [\"solo\", \"Solo\"],\r\n        [\"accompaniment\", \"Accompaniment\"]\r\n      ],\r\n      notes: [\r\n        [\"often\", \"Often notes\"],\r\n        [\"middle\", \"Middle notes\"],\r\n        [\"seldom\", \"Seldom notes\"],\r\n        [\"veryOften\", \"Very often notes\"],\r\n        [\"verySeldom\", \"Very seldom notes\"],\r\n        [\"whole\", \"Whole notes\"],\r\n        [\"half\", \"Half notes\"],\r\n        [\"quarter\", \"Quarter notes\"],\r\n        [\"eight\", \"Eight notes\"],\r\n        [\"sixteen\", \"Sixteen notes\"]\r\n      ]\r\n}","import React from \"react\";\r\n\r\nexport default function AddedPartHeader({ partOptions }) {\r\n  return (\r\n    <div className=\"added-parts__part text-white\">\r\n      <p>{`Type: ${partOptions.type}`}</p>\r\n      <p>{`Function: ${partOptions.function}`}</p>\r\n      <p>{`Notes: ${partOptions.notes}`}</p>\r\n      <p>{`Rest probability: ${partOptions.restProbability}%`}</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AddedPartHeader from \"./AddedPartHeader\";\r\n\r\nexport default function AddedParts({ partOptionsArr }) {\r\n  return (\r\n      <div className=\"part-editor__added-parts mb-20 mt-20\">\r\n          {\r\n              partOptionsArr.map((partOptions, index) => <AddedPartHeader key={index} partOptions={partOptions} />)\r\n          }\r\n      </div>\r\n    \r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Selector from \"./components/Selector\";\r\nimport Button from \"../ChordEditor/components/Button\";\r\nimport FileEditor from \"../../MidiFileCreater/FileEditor\";\r\nimport partOptions from \"../../dataset/partOptions\";\r\nimport { chordNamesToFullArr } from \"../../MidiFileCreater/utils\";\r\nimport AddedParts from \"./components/AddedParts\";\r\n\r\nexport default class PartEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      partOptions: {\r\n        type: \"soprano\",\r\n        function: \"solo\",\r\n        notes: \"often\",\r\n        restProbability: 20\r\n      },\r\n      fileLink: null,\r\n      addedPartsHeaders: []\r\n    };\r\n    this.fileEditor = new FileEditor();\r\n    this.isFile = false;\r\n    this.types = partOptions.types;\r\n    this.function = partOptions.function;\r\n    this.notes = partOptions.notes;\r\n\r\n    this.handleSelectorsChange = this.handleSelectorsChange.bind(this);\r\n    this.addPart = this.addPart.bind(this);\r\n    this.generateMidi = this.generateMidi.bind(this);\r\n    this.createNewFile = this.createNewFile.bind(this);\r\n    this.fileDidDownloaded = this.fileDidDownloaded.bind(this);\r\n  }\r\n\r\n  handleSelectorsChange(e) {\r\n    const partOptions = JSON.parse(JSON.stringify(this.state.partOptions));\r\n    partOptions[e.target.name] = e.target.value;\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      partOptions\r\n    });\r\n  }\r\n\r\n  createNewFile() {\r\n    const fullChords = chordNamesToFullArr(this.props.chords);\r\n    console.log(fullChords);\r\n    this.fileEditor.createNewFile(fullChords);\r\n  }\r\n\r\n  addPart() {\r\n    // if(this.fileEditor.userChords === null){\r\n    //   return;\r\n    // }\r\n    if (!this.fileEditor.midiCreator) {\r\n      this.createNewFile();\r\n    }\r\n    this.fileEditor.partOptions = this.state.partOptions;\r\n    console.log(this.fileEditor.partOptions);\r\n    this.fileEditor.addNewPart();\r\n    const newPartHeader = this.state.partOptions;\r\n    this.setState({\r\n      addedPartsHeaders: [...this.state.addedPartsHeaders, newPartHeader]\r\n    });\r\n  }\r\n\r\n  fileDidDownloaded() {\r\n    this.props.setChords(null, false);\r\n    this.setState({\r\n      fileLink: null,\r\n      addedPartsHeaders: []\r\n    });\r\n  }\r\n\r\n  generateMidi() {\r\n    if (this.fileEditor.midiCreator === null) {\r\n      console.log(\"add a part !\");\r\n      return;\r\n    }\r\n    if (this.state.fileLink !== null) {\r\n      console.log(\"file already generated!\");\r\n      return;\r\n    }\r\n    this.fileEditor.generateMidi();\r\n    this.setState({\r\n      fileLink: (\r\n        <a href={this.fileEditor.getURI()}>\r\n          <Button\r\n            class=\"btn btn-big\"\r\n            handleClick={this.fileDidDownloaded}\r\n            text=\"Download file\"\r\n          />\r\n        </a>\r\n      )\r\n    });\r\n    this.createNewFile();\r\n  }\r\n  componentDidMount() {}\r\n\r\n  componentWillUnmount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App-chord-editor\">\r\n        <h3>Part Editor</h3>\r\n        <Selector\r\n          name=\"type\"\r\n          id=\"part-type\"\r\n          options={this.types}\r\n          handleChange={this.handleSelectorsChange}\r\n        />\r\n        <Selector\r\n          name=\"function\"\r\n          id=\"part-function\"\r\n          options={this.function}\r\n          handleChange={this.handleSelectorsChange}\r\n        />\r\n        <Selector\r\n          name=\"notes\"\r\n          id=\"part-notes\"\r\n          options={this.notes}\r\n          handleChange={this.handleSelectorsChange}\r\n        />\r\n        <div style={{display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '10px 0'}}>\r\n          <label className=\"label text-white\" htmlFor=\"restProbability\">\r\n            Rest probability: {this.state.partOptions.restProbability}%\r\n          </label>\r\n          <input\r\n            id=\"restProbability\"\r\n            className=\"input\"\r\n            value={this.state.partOptions.restProbability}\r\n            type=\"range\"\r\n            min='0'\r\n            max='100'\r\n            onChange={this.handleSelectorsChange}\r\n            name=\"restProbability\"\r\n          />\r\n          \r\n        </div>\r\n        <Button\r\n          class=\"btn btn-big\"\r\n          handleClick={this.addPart}\r\n          text=\"Add a part in file\"\r\n        />\r\n        <AddedParts partOptionsArr={this.state.addedPartsHeaders} />\r\n        <Button\r\n          class=\"btn btn-big mb-20\"\r\n          handleClick={this.generateMidi}\r\n          text=\"Generate file\"\r\n        />\r\n        {this.state.fileLink}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ChordEditor from \"../ChordEditor/ChordEditor\";\r\nimport PartEditor from \"../PartEditor/PartEditor\";\r\n\r\nexport default class MainWindow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.chords = [];    \r\n    this.state = {\r\n      chordsToAdd: this.chords,\r\n      isChordsSet: false\r\n    };\r\n    this.setChords = this.setChords.bind(this);\r\n  }\r\n\r\n  setChords(chords, bool){\r\n    this.setState({\r\n      chordsToAdd: chords,\r\n      isChordsSet: bool\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"main-window\">\r\n        <ChordEditor setChords={this.setChords} chords={this.chords}/>\r\n        {\r\n          this.state.isChordsSet ? <PartEditor setChords={this.setChords} chords={this.state.chordsToAdd}/> : null\r\n        }\r\n        \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"App-footer text-white mb-20\">\r\n        <span>Petr Marchanka <a href=\"https://www.facebook.com/piatro.marchanka\">FaceBook</a> <a href=\"https://github.com/PyatroMarchanka\">Github</a> 2020</span>\r\n        \r\n        \r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header/Header\";\r\nimport MainWindow from \"./components/MainWindow/MainWindow\";\r\nimport Footer from \"./components/Footer/Footer\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <div>\r\n        <Header />\r\n        <MainWindow />\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}