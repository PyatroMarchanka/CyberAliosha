{"version":3,"sources":["components/Header/Header.jsx","dataset/dataset.js","dataset/all_chords_for_impro.js","MidiFileCreater/utils.js","components/ChordEditor/components/Chord.jsx","components/ChordEditor/components/Button.jsx","components/ChordEditor/components/ChordMenuEdit.jsx","components/ChordEditor/components/AddedChords.jsx","components/ChordEditor/components/ChordAdder.jsx","MidiFileCreater/Releaser.js","MidiFileCreater/MidiChordsCreator.js","MidiFileCreater/ItemsSearcher.js","components/ChordEditor/ChordEditor.jsx","components/PartEditor/components/Selector.jsx","MidiFileCreater/PatternCreator.js","MidiFileCreater/BarCreator.js","MidiFileCreater/PartCreator.js","MidiFileCreater/PartsFabric.js","MidiFileCreater/CreateMidiFile.js","MidiFileCreater/FileEditor.js","dataset/partOptions.js","components/PartEditor/components/AddedPartHeader.jsx","components/PartEditor/components/AddedParts.jsx","components/PartEditor/PartEditor.jsx","components/MainWindow/MainWindow.jsx","components/Footer/Footer.jsx","App.js","serviceWorker.js","index.js"],"names":["Header","className","DURATIONS","NOTES_MAP_SOLO","randomIntegerRange","min","max","Math","floor","random","findNotes","tone","step","type","chordsForImpro","find","tonica","transposeNote","chord","synth","PolySynth","AMSynth","toMaster","convertChordStringToArr","chordFunction","slice","createDurMeasure","notesLengthType","typeLengthMap","often","middle","seldom","veryOften","verySeldom","whole","half","quarter","eight","sixteen","result","currentAllNotesLength","dur","length","push","note","notesMap","indexOfNote","indexOf","Chord","props","id","key","onClick","e","handleClick","chordNameArr","chordNotes","chordNote","triggerAttackRelease","playChord","chordName","Button","class","text","ChordMenuEdit","deleteChord","replaceChord","deselectChord","AddedChords","state","this","isSelection","selectedChord","showMenu","chords","map","idx","selectChord","Component","ChordAdder","releases","MidiChordsCreator","all_chords","count","i","releaseChord","randTone","randChord","generateChords","ALL_CHORDS_FOR_IMPROVISE","ItemsSearcher","findAllChords","Error","rest","forEach","toFind","ChordEditor","chordsCreator","chordSearcher","addChord","bind","setUpForReplace","liftUpChords","proposeChordsForLast","getRandomChords","toggleAddedChordsLabel","chordsToAdd","searchItems","addedChords","isForReplace","addedChordsLabel","setChords","setState","0","1","2","target","oldState","innerText","element","deleteIdx","newChords","splice","last","selectedIdx","searchIdx","replaceIdx","getNewChords","console","log","Selector","name","options","handleChange","onChange","option","value","PatternCreator","durs","chordPitch","reduce","acc","cur","BarCreator","notesLengthMode","toneJsArr","pattern","createRandomBar","createOctave","resultBar","patternNote","index","newNote","createRandomNote","notes","randNoteIndex","PartCreator","squaresCount","notesLength","getPattern","barCreator","squaresCountToAdd","onInit","createRandomPart","newBar","getRandomBar","PartsFabric","parts","partOptions","part","CreateMidiFile","chordsCount","loopCounts","partsFabric","getChords","file","Midi","File","tempo","addPart","getParts","addPartInFIle","track","Track","instrument","setTempo","addNote","addTrack","btoa","toBytes","FileEditor","userChords","midiCreator","function","addAllPartsInFile","getURI","AddedPartHeader","AddedParts","partOptionsArr","PartEditor","fileLink","addedPartsHeaders","fileEditor","isFile","types","handleSelectorsChange","generateMidi","createNewFile","fileDidDownloaded","JSON","parse","stringify","fullChords","chordString","chordsArr","addNewPart","newPartHeader","href","MainWindow","isChordsSet","bool","Footer","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5d38c11d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"App-header\">\r\n      <h1>CyberAliosha's \"Parter\"</h1>\r\n    </header>\r\n  );\r\n}\r\n","const NOTE_MODES = {\r\n  dorian: [\"C\", \"D\", \"Eb\", \"F\", \"G\", \"A\", \"Bb\"],\r\n  frigyan: [\"C\", \"Db\", \"Eb\", \"F\", \"G\", \"Ab\", \"Bb\"],\r\n  balkanMinor: [\"C\", \"D\", \"Eb\", \"F#\", \"G\", \"A\", \"Bb\"],\r\n  naturalMajor: [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"],\r\n  naturalMinor: [\"C\", \"D\", \"Eb\", \"F\", \"G\", \"Ab\", \"Bb\"]\r\n};\r\n\r\nconst DURATIONS = [\"1\", \"2\", \"4\", \"8\", \"16\"];\r\n\r\nconst TONALITY_SCALES = [\r\n  [\"Am/C\", [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"G#Abm/B\", [\"G#Ab\", \"A#Bb\", \"B\", \"C#Db\", \"D#Eb\", \"E\", \"F#Gb\"]],\r\n  [\"Bm/D\", [\"B\", \"C#Db\", \"D\", \"E\", \"F#Gb\", \"G\", \"A\"]],\r\n  [\"A#Bbm/C#Db\", [\"A#Bb\", \"C\", \"С#Db\", \"D#Eb\", \"F\", \"F#Gb\", \"G#Ab\"]],\r\n  [\"Cm/D#Eb\", [\"C\", \"D\", \"D#Eb\", \"F\", \"G\", \"G#Ab\", \"A#Bb\"]],\r\n  [\"C#Dbm/E\", [\"C#Db\", \"D#Eb\", \"E\", \"F#Gb\", \"G#AB\", \"A\", \"B\"]],\r\n  [\"Dm/F\", [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#Bb\", \"C\"]],\r\n  [\"Em/G\", [\"E\", \"F#Gb\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n  [\"D#Ebm/F#Gb\", [\"D#Eb\", \"F\", \"F#Gb\", \"G#Ab\", \"A#Bb\", \"B\", \"C#Db\"]],\r\n  [\"Fm/G#Ab\", [\"F\", \"G\", \"G#Ab\", \"A#Bb\", \"C\", \"C#Db\", \"D#Eb\"]],\r\n  [\"F#Gbm/A\", [\"F#Gb\", \"G#AB\", \"A\", \"B\", \"C#Db\", \"D\", \"E\"]],\r\n  [\"Gm/A#Bb\", [\"G\", \"A\", \"A#Bb\", \"C\", \"D\", \"D#Eb\", \"F\"]],\r\n  [\"G#m/B\", [\"G#AB\", \"A#Bb\", \"B\", \"C#Db\", \"D#Eb\", \"E\", \"F#Gb\"]]\r\n];\r\n\r\nconst NOTES_MAP = [\r\n  \"A\",\r\n  \"A#Bb\",\r\n  \"B\",\r\n  \"C\",\r\n  \"C#Db\",\r\n  \"D\",\r\n  \"D#Eb\",\r\n  \"E\",\r\n  \"F\",\r\n  \"F#Gb\",\r\n  \"G\",\r\n  \"G#Ab\"\r\n];\r\n\r\nconst NOTES_MAP_SOLO = [\r\n  \"A\",\r\n  \"A#\",\r\n  \"B\",\r\n  \"C\",\r\n  \"C#\",\r\n  \"D\",\r\n  \"D#\",\r\n  \"E\",\r\n  \"F\",\r\n  \"F#\",\r\n  \"G\",\r\n  \"G#\"\r\n];\r\n\r\nexport { TONALITY_SCALES, NOTES_MAP, DURATIONS, NOTE_MODES, NOTES_MAP_SOLO };\r\n","export default [\r\n  [\r\n    [\"A\", \"m\", [\"A\", \"C\", \"E\"], [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n    [\"A\", \"m7\", [\"A\", \"C\", \"E\", \"G\"], [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n    [\"A\", \"m7\", [\"A\", \"C\", \"E\", \"G\"], [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]],\r\n    [\"A\", \"m7b5\", [\"A\", \"C\", \"D#\", \"G\"], [\"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\"]],\r\n    [\"A\", \"\", [\"A\", \"C#\", \"E\"], [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G#\"]],\r\n    [\"A\", \"7\", [\"A\", \"C#\", \"E\", \"G\"], [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\"]],\r\n    [\"A\", \"7\", [\"A\", \"C#\", \"E\", \"G\"], [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\"]],\r\n    [\r\n      \"A\",\r\n      \"maj\",\r\n      [\"A\", \"C#\", \"E\", \"G#\"],\r\n      [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G#\"]\r\n    ],\r\n    [\r\n      \"A\",\r\n      \"maj\",\r\n      [\"A\", \"C#\", \"E\", \"G#\"],\r\n      [\"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\", \"G#\"]\r\n    ],\r\n    [\"A\", \"dim7\", [\"A\", \"C\", \"D#\", \"F#\"], [\"A#\", \"C\", \"D#\", \"D\", \"F#\", \"G\"]]\r\n  ],\r\n  [\r\n    [\"A#\", \"m\", [\"A#\", \"C#\", \"F\"], [\"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\"]],\r\n    [\r\n      \"A#\",\r\n      \"m7\",\r\n      [\"A#\", \"C#\", \"F\", \"G#\"],\r\n      [\"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\"]\r\n    ],\r\n    [\r\n      \"A#\",\r\n      \"m7\",\r\n      [\"A#\", \"C#\", \"F\", \"G#\"],\r\n      [\"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\"]\r\n    ],\r\n    [\r\n      \"A#\",\r\n      \"m7b5\",\r\n      [\"A#\", \"C#\", \"E\", \"G#\"],\r\n      [\"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\"]\r\n    ],\r\n    [\"A#\", \"\", [\"A#\", \"D\", \"F\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"A\"]],\r\n    [\"A#\", \"7\", [\"A#\", \"D\", \"F\", \"G#\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\"]],\r\n    [\"A#\", \"7\", [\"A#\", \"D\", \"F\", \"G#\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\"]],\r\n    [\"A#\", \"maj\", [\"A#\", \"D\", \"F\", \"A\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"A\"]],\r\n    [\"A#\", \"maj\", [\"A#\", \"D\", \"F\", \"A\"], [\"A#\", \"C\", \"D\", \"D#\", \"F\", \"G\", \"A\"]],\r\n    [\"A#\", \"dim7\", [\"A#\", \"C#\", \"E\", \"G\"], [\"B\", \"C#\", \"E\", \"D#\", \"G\", \"G#\"]]\r\n  ],\r\n  [\r\n    [\"B\", \"m\", [\"B\", \"D\", \"F#\"], [\"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\"]],\r\n    [\"B\", \"m7\", [\"B\", \"D\", \"F#\", \"A\"], [\"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\"]],\r\n    [\"B\", \"m7\", [\"B\", \"D\", \"F#\", \"A\"], [\"B\", \"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\"]],\r\n    [\"B\", \"m7b5\", [\"B\", \"D\", \"F\", \"A\"], [\"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"A\"]],\r\n    [\"B\", \"\", [\"B\", \"D#\", \"F#\"], [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A#\"]],\r\n    [\"B\", \"7\", [\"B\", \"D#\", \"F#\", \"A\"], [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\"]],\r\n    [\"B\", \"7\", [\"B\", \"D#\", \"F#\", \"A\"], [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\"]],\r\n    [\r\n      \"B\",\r\n      \"maj\",\r\n      [\"B\", \"D#\", \"F#\", \"A#\"],\r\n      [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A#\"]\r\n    ],\r\n    [\r\n      \"B\",\r\n      \"maj\",\r\n      [\"B\", \"D#\", \"F#\", \"A#\"],\r\n      [\"B\", \"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A#\"]\r\n    ],\r\n    [\"B\", \"dim7\", [\"B\", \"D\", \"F\", \"G#\"], [\"C\", \"D\", \"F\", \"E\", \"G#\", \"A\"]]\r\n  ],\r\n  [\r\n    [\"C\", \"m\", [\"C\", \"D#\", \"G\"], [\"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\"]],\r\n    [\"C\", \"m7\", [\"C\", \"D#\", \"G\", \"A#\"], [\"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\"]],\r\n    [\"C\", \"m7\", [\"C\", \"D#\", \"G\", \"A#\"], [\"C\", \"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\"]],\r\n    [\r\n      \"C\",\r\n      \"m7b5\",\r\n      [\"C\", \"D#\", \"F#\", \"A#\"],\r\n      [\"C\", \"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\"]\r\n    ],\r\n    [\"C\", \"\", [\"C\", \"E\", \"G\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"]],\r\n    [\"C\", \"7\", [\"C\", \"E\", \"G\", \"A#\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"A#\"]],\r\n    [\"C\", \"7\", [\"C\", \"E\", \"G\", \"A#\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"A#\"]],\r\n    [\"C\", \"maj\", [\"C\", \"E\", \"G\", \"B\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"]],\r\n    [\"C\", \"maj\", [\"C\", \"E\", \"G\", \"B\"], [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"]],\r\n    [\"C\", \"dim7\", [\"C\", \"D#\", \"F#\", \"A\"], [\"C#\", \"D#\", \"F#\", \"F\", \"A\", \"A#\"]]\r\n  ],\r\n  [\r\n    [\"C#\", \"m\", [\"C#\", \"E\", \"G#\"], [\"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\"]],\r\n    [\r\n      \"C#\",\r\n      \"m7\",\r\n      [\"C#\", \"E\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"m7\",\r\n      [\"C#\", \"E\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"m7b5\",\r\n      [\"C#\", \"E\", \"G\", \"B\"],\r\n      [\"C#\", \"D\", \"E\", \"F#\", \"G\", \"A\", \"B\"]\r\n    ],\r\n    [\"C#\", \"\", [\"C#\", \"F\", \"G#\"], [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"C\"]],\r\n    [\r\n      \"C#\",\r\n      \"7\",\r\n      [\"C#\", \"F\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"7\",\r\n      [\"C#\", \"F\", \"G#\", \"B\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"maj\",\r\n      [\"C#\", \"F\", \"G#\", \"C\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"C\"]\r\n    ],\r\n    [\r\n      \"C#\",\r\n      \"maj\",\r\n      [\"C#\", \"F\", \"G#\", \"C\"],\r\n      [\"C#\", \"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"C\"]\r\n    ],\r\n    [\"C#\", \"dim7\", [\"C#\", \"E\", \"G\", \"A#\"], [\"D\", \"E\", \"G\", \"F#\", \"A#\", \"B\"]]\r\n  ],\r\n  [\r\n    [\"D\", \"m\", [\"D\", \"F\", \"A\"], [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#\", \"C\"]],\r\n    [\"D\", \"m7\", [\"D\", \"F\", \"A\", \"C\"], [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#\", \"C\"]],\r\n    [\"D\", \"m7\", [\"D\", \"F\", \"A\", \"C\"], [\"D\", \"E\", \"F\", \"G\", \"A\", \"A#\", \"C\"]],\r\n    [\r\n      \"D\",\r\n      \"m7b5\",\r\n      [\"D\", \"F\", \"G#\", \"C\"],\r\n      [\"D\", \"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\"]\r\n    ],\r\n    [\"D\", \"\", [\"D\", \"F#\", \"A\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C#\"]],\r\n    [\"D\", \"7\", [\"D\", \"F#\", \"A\", \"C\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C\"]],\r\n    [\"D\", \"7\", [\"D\", \"F#\", \"A\", \"C\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C\"]],\r\n    [\"D\", \"maj\", [\"D\", \"F#\", \"A\", \"C#\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C#\"]],\r\n    [\"D\", \"maj\", [\"D\", \"F#\", \"A\", \"C#\"], [\"D\", \"E\", \"F#\", \"G\", \"A\", \"B\", \"C#\"]],\r\n    [\"D\", \"dim7\", [\"D\", \"F\", \"G#\", \"B\"], [\"D#\", \"F\", \"G#\", \"G\", \"B\", \"C\"]]\r\n  ],\r\n  [\r\n    [\"D#\", \"m\", [\"D#\", \"F#\", \"A#\"], [\"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\"]],\r\n    [\r\n      \"D#\",\r\n      \"m7\",\r\n      [\"D#\", \"F#\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"m7\",\r\n      [\"D#\", \"F#\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"m7b5\",\r\n      [\"D#\", \"F#\", \"A\", \"C#\"],\r\n      [\"D#\", \"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\"]\r\n    ],\r\n    [\"D#\", \"\", [\"D#\", \"G\", \"A#\"], [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"D\"]],\r\n    [\r\n      \"D#\",\r\n      \"7\",\r\n      [\"D#\", \"G\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"7\",\r\n      [\"D#\", \"G\", \"A#\", \"C#\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"maj\",\r\n      [\"D#\", \"G\", \"A#\", \"D\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"D\"]\r\n    ],\r\n    [\r\n      \"D#\",\r\n      \"maj\",\r\n      [\"D#\", \"G\", \"A#\", \"D\"],\r\n      [\"D#\", \"F\", \"G\", \"G#\", \"A#\", \"C\", \"D\"]\r\n    ],\r\n    [\"D#\", \"dim7\", [\"D#\", \"F#\", \"A\", \"C\"], [\"E\", \"F#\", \"A\", \"G#\", \"C\", \"C#\"]]\r\n  ],\r\n  [\r\n    [\"E\", \"m\", [\"E\", \"G\", \"B\"], [\"E\", \"F#\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n    [\"E\", \"m7\", [\"E\", \"G\", \"B\", \"D\"], [\"E\", \"F#\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n    [\"E\", \"m7\", [\"E\", \"G\", \"B\", \"D\"], [\"E\", \"F#\", \"G\", \"A\", \"B\", \"C\", \"D\"]],\r\n    [\"E\", \"m7b5\", [\"E\", \"G\", \"A#\", \"D\"], [\"E\", \"F\", \"G\", \"A\", \"A#\", \"C\", \"D\"]],\r\n    [\"E\", \"\", [\"E\", \"G#\", \"B\"], [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D#\"]],\r\n    [\"E\", \"7\", [\"E\", \"G#\", \"B\", \"D\"], [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\"]],\r\n    [\"E\", \"7\", [\"E\", \"G#\", \"B\", \"D\"], [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\"]],\r\n    [\r\n      \"E\",\r\n      \"maj\",\r\n      [\"E\", \"G#\", \"B\", \"D#\"],\r\n      [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D#\"]\r\n    ],\r\n    [\r\n      \"E\",\r\n      \"maj\",\r\n      [\"E\", \"G#\", \"B\", \"D#\"],\r\n      [\"E\", \"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D#\"]\r\n    ],\r\n    [\"E\", \"dim7\", [\"E\", \"G\", \"A#\", \"C#\"], [\"F\", \"G\", \"A#\", \"A\", \"C#\", \"D\"]]\r\n  ],\r\n  [\r\n    [\"F\", \"m\", [\"F\", \"G#\", \"C\"], [\"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\"]],\r\n    [\r\n      \"F\",\r\n      \"m7\",\r\n      [\"F\", \"G#\", \"C\", \"D#\"],\r\n      [\"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\"]\r\n    ],\r\n    [\r\n      \"F\",\r\n      \"m7\",\r\n      [\"F\", \"G#\", \"C\", \"D#\"],\r\n      [\"F\", \"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\"]\r\n    ],\r\n    [\r\n      \"F\",\r\n      \"m7b5\",\r\n      [\"F\", \"G#\", \"B\", \"D#\"],\r\n      [\"F\", \"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\"]\r\n    ],\r\n    [\"F\", \"\", [\"F\", \"A\", \"C\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"E\"]],\r\n    [\"F\", \"7\", [\"F\", \"A\", \"C\", \"D#\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\"]],\r\n    [\"F\", \"7\", [\"F\", \"A\", \"C\", \"D#\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\"]],\r\n    [\"F\", \"maj\", [\"F\", \"A\", \"C\", \"E\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"E\"]],\r\n    [\"F\", \"maj\", [\"F\", \"A\", \"C\", \"E\"], [\"F\", \"G\", \"A\", \"A#\", \"C\", \"D\", \"E\"]],\r\n    [\"F\", \"dim7\", [\"F\", \"G#\", \"B\", \"D\"], [\"F#\", \"G#\", \"B\", \"A#\", \"D\", \"D#\"]]\r\n  ],\r\n  [\r\n    [\"F#\", \"m\", [\"F#\", \"A\", \"C#\"], [\"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\"]],\r\n    [\r\n      \"F#\",\r\n      \"m7\",\r\n      [\"F#\", \"A\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"m7\",\r\n      [\"F#\", \"A\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\"]\r\n    ],\r\n    [\"F#\", \"m7b5\", [\"F#\", \"A\", \"C\", \"E\"], [\"F#\", \"G\", \"A\", \"B\", \"C\", \"D\", \"E\"]],\r\n    [\"F#\", \"\", [\"F#\", \"A#\", \"C#\"], [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"F\"]],\r\n    [\r\n      \"F#\",\r\n      \"7\",\r\n      [\"F#\", \"A#\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"7\",\r\n      [\"F#\", \"A#\", \"C#\", \"E\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"maj\",\r\n      [\"F#\", \"A#\", \"C#\", \"F\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"F\"]\r\n    ],\r\n    [\r\n      \"F#\",\r\n      \"maj\",\r\n      [\"F#\", \"A#\", \"C#\", \"F\"],\r\n      [\"F#\", \"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"F\"]\r\n    ],\r\n    [\"F#\", \"dim7\", [\"F#\", \"A\", \"C\", \"D#\"], [\"G\", \"A\", \"C\", \"B\", \"D#\", \"E\"]]\r\n  ],\r\n  [\r\n    [\"G\", \"m\", [\"G\", \"A#\", \"D\"], [\"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\"]],\r\n    [\"G\", \"m7\", [\"G\", \"A#\", \"D\", \"F\"], [\"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\"]],\r\n    [\"G\", \"m7\", [\"G\", \"A#\", \"D\", \"F\"], [\"G\", \"A\", \"A#\", \"C\", \"D\", \"D#\", \"F\"]],\r\n    [\r\n      \"G\",\r\n      \"m7b5\",\r\n      [\"G\", \"A#\", \"C#\", \"F\"],\r\n      [\"G\", \"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\"]\r\n    ],\r\n    [\"G\", \"\", [\"G\", \"B\", \"D\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F#\"]],\r\n    [\"G\", \"7\", [\"G\", \"B\", \"D\", \"F\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"]],\r\n    [\"G\", \"7\", [\"G\", \"B\", \"D\", \"F\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"]],\r\n    [\"G\", \"maj\", [\"G\", \"B\", \"D\", \"F#\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F#\"]],\r\n    [\"G\", \"maj\", [\"G\", \"B\", \"D\", \"F#\"], [\"G\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F#\"]],\r\n    [\"G\", \"dim7\", [\"G\", \"A#\", \"C#\", \"E\"], [\"G#\", \"A#\", \"C#\", \"C\", \"E\", \"F\"]]\r\n  ],\r\n  [\r\n    [\"G#\", \"m\", [\"G#\", \"B\", \"D#\"], [\"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\"]],\r\n    [\r\n      \"G#\",\r\n      \"m7\",\r\n      [\"G#\", \"B\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"m7\",\r\n      [\"G#\", \"B\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"B\", \"C#\", \"D#\", \"E\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"m7b5\",\r\n      [\"G#\", \"B\", \"D\", \"F#\"],\r\n      [\"G#\", \"A\", \"B\", \"C#\", \"D\", \"E\", \"F#\"]\r\n    ],\r\n    [\"G#\", \"\", [\"G#\", \"C\", \"D#\"], [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"G\"]],\r\n    [\r\n      \"G#\",\r\n      \"7\",\r\n      [\"G#\", \"C\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"7\",\r\n      [\"G#\", \"C\", \"D#\", \"F#\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"F#\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"maj\",\r\n      [\"G#\", \"C\", \"D#\", \"G\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"G\"]\r\n    ],\r\n    [\r\n      \"G#\",\r\n      \"maj\",\r\n      [\"G#\", \"C\", \"D#\", \"G\"],\r\n      [\"G#\", \"A#\", \"C\", \"C#\", \"D#\", \"F\", \"G\"]\r\n    ],\r\n    [\"G#\", \"dim7\", [\"G#\", \"B\", \"D\", \"F\"], [\"A\", \"B\", \"D\", \"C#\", \"F\", \"F#\"]]\r\n  ]\r\n];\r\n","import { NOTES_MAP_SOLO } from \"../dataset/dataset\";\r\nimport { PolySynth, AMSynth } from \"tone\";\r\nimport chordsForImpro from \"../dataset/all_chords_for_impro\";\r\n\r\nfunction randomIntegerRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nfunction chordNamesToFullArr(chordNames) {\r\n  const chordsArrs = chordNames.map(chordString =>\r\n    convertChordStringToArr(chordString)\r\n  );\r\n  const fullChordsArr = chordsArrs.map(chordsArr => findNotes(chordsArr[0], 0, chordsArr[1]))\r\n  return fullChordsArr;\r\n}\r\n\r\n function findNotes(tone, step, type) {\r\n  return chordsForImpro\r\n    .find(tonica => tonica[0][0] === transposeNote(tone, step, NOTES_MAP_SOLO))\r\n    .find(chord => chord[1] === type);\r\n}\r\n\r\nconst synth = new PolySynth(5, AMSynth).toMaster()\r\n\r\nfunction playChord(chord){\r\n  const chordNameArr = convertChordStringToArr(chord);\r\n  const chordNotes = findNotes(chordNameArr[0], 0, chordNameArr[1])[2];\r\n  for(let chordNote of chordNotes){\r\n      synth.triggerAttackRelease(chordNote + '4', 1);\r\n   }\r\n}\r\n\r\nfunction convertChordStringToArr(chord) {\r\n  let tone;\r\n  let chordFunction;\r\n  if (chord[1] === \"#\") {\r\n    tone = chord.slice(0, 2);\r\n    chordFunction = chord.slice(2);\r\n  } else {\r\n    tone = chord.slice(0, 1);\r\n    chordFunction = chord.slice(1);\r\n  }\r\n\r\n  return [tone, chordFunction];\r\n}\r\n\r\nfunction createDurMeasure(notesLengthType, type) {\r\n  const typeLengthMap = {\r\n    often: [2, 4, 8, 8, 8, 16, 16, 16],\r\n    middle: [2, 4, 4, 4, 4, 8, 8, 8],\r\n    seldom: [1, 1, 2, 2, 2, 4],\r\n    veryOften: [8, 16],\r\n    verySeldom: [1, 2],\r\n    whole: [1],\r\n    half: [2],\r\n    quarter: [4],\r\n    eight: [8], \r\n    sixteen: [16]\r\n  };\r\n  let result = [];\r\n  let currentAllNotesLength = 0;\r\n  while (currentAllNotesLength < 1) {\r\n    let dur =\r\n      1 /\r\n      typeLengthMap[notesLengthType][\r\n        randomIntegerRange(0, typeLengthMap[notesLengthType].length)\r\n      ];\r\n    result.push(dur);\r\n    currentAllNotesLength += dur;\r\n  } \r\n  const space = 1;\r\n  result[result.length - 1] =\r\n    result[result.length - 1] - (currentAllNotesLength - space);\r\n  return result;\r\n}\r\n\r\n\r\n function transposeTonality(tonality, step) {\r\n  const newTonality = JSON.parse(JSON.stringify(tonality));\r\n  newTonality[0] = newTonality[0]\r\n    .split(\"m/\")\r\n    .map(note => transposeNote(note, step))\r\n    .join(\"m/\");\r\n  newTonality[1] = newTonality[1].map(noteChords => {\r\n    console.log(noteChords);\r\n    noteChords[0] = transposeNote(noteChords[0], step);\r\n    return noteChords;\r\n  });\r\n  return newTonality;\r\n}\r\n\r\n\r\nconst CHORDS_MAP = [\r\n  [\"A\", \"m\", [\"A\", \"C\", \"E\"]],\r\n  [\"A\", \"m7\", [\"A\", \"C\", \"E\", \"G\"]],\r\n  [\"A\", \"m9\", [\"A\", \"C\", \"E\", \"G\", \"B\"]],\r\n  [\"A\", \"m7b5\", [\"A\", \"C\", \"D#Eb\", \"G\"]],\r\n  [\"A\", \"mAdd9\", [\"A\", \"C\", \"E\", \"G\", \"B\"]],\r\n\r\n  [\"A\", \"sus2\", [\"A\", \"B\", \"E\"]],\r\n  [\"A\", \"sus4\", [\"A\", \"C\", \"D\"]],\r\n  [\"A\", \"7sus2\", [\"A\", \"B\", \"E\", \"G\"]],\r\n  [\"A\", \"7sus4\", [\"A\", \"C\", \"D\", \"G\"]],\r\n  [\"A\", \"\", [\"A\", \"C#Db\", \"E\"]],\r\n  [\"A\", \"7\", [\"A\", \"C#Db\", \"E\", \"G\"]],\r\n  [\"A\", \"maj\", [\"A\", \"C#Db\", \"E\", \"G#Ab\"]],\r\n  [\"A\", \"majAdd9\", [\"A\", \"C#Db\", \"E\", \"G#Ab\", \"B\"]],\r\n  [\"A\", \"dim7\", [\"A\", \"C\", \"D#Eb\", \"F#Gb\"]],\r\n  [\"A\", \"aug\", [\"A\", \"C#Db\", \"F\"]]\r\n];\r\n\r\nconst CHORD_BIG = [\r\n  [\"A\", \"m\", [\"A\", \"C\", ], [\"B\", \"D\",\"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m7\", [\"A\", \"C\", \"G\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m7\", [\"A\", \"C\", \"G\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m9\", [\"A\", \"C\", \"G\", \"B\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m9\", [\"A\", \"C\", \"G\", \"B\"], [\"B\", \"D\", \"E\", \"F\", \"G\"]],\r\n  [\"A\", \"m7b5\", [\"A\", \"C\", \"G\"], [\"B\", \"D#\", \"D\", \"F\", \"G\"]],\r\n  [\"A\", \"mAdd9\", [\"A\", \"C\", \"G\", \"B\"], [\"B\", \"E\", \"D\", \"F\", \"G\"]],\r\n  [\"A\", \"\", [\"A\", \"C#\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"7\", [\"A\", \"C#\", \"G\"], [\"B\", \"E\", \"D\", \"F#\", \"G\"]],\r\n  [\"A\", \"7\", [\"A\", \"C#\", \"G\"], [\"B\", \"E\", \"D\", \"F#\", \"G\"]],\r\n  [\"A\", \"maj\", [\"A\", \"C#\", \"G#\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"maj\", [\"A\", \"C#\", \"G#\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"majAdd9\", [\"A\", \"C#\", \"G#\", \"B\"], [\"B\", \"E\", \"D\", \"F#\", \"G#\"]],\r\n  [\"A\", \"dim7\", [\"A\", \"C\", \"D#\", \"F#\"], [\"A#\", \"C\", \"D#\", \"D\", \"F#\", \"G\"]]\r\n];\r\nfunction transposeNote(note, step, notesMap) {\r\n  let indexOfNote = notesMap.indexOf(note);\r\n  if (step < 0) {\r\n    step = notesMap.length - step;\r\n  }\r\n  return notesMap[(indexOfNote + step) % notesMap.length];\r\n}\r\n\r\nfunction transposeChord(chord, step, notes) {\r\n  let newChord = JSON.parse(JSON.stringify(chord));\r\n  newChord[0] = transposeNote(newChord[0], step, notes);\r\n  newChord[2] = newChord[2].map(note => {\r\n    note = transposeNote(note, step, notes);\r\n    return note;\r\n  });\r\n  newChord[3] = newChord[3].map(note => {\r\n    note = transposeNote(note, step, notes);\r\n    return note;\r\n  });\r\n  return newChord;\r\n}\r\n\r\nfunction transposeTone(toneOfChords, step) {\r\n  let newTone = JSON.parse(JSON.stringify(toneOfChords));\r\n  return newTone.map(chord => transposeChord(chord, step, NOTES_MAP_SOLO));\r\n}\r\n\r\nfunction getDataSet(chordsMap) {\r\n  let allChords = [];\r\n\r\n  for (let index = 0; index < 12; index++) {\r\n    allChords.push(transposeTone(chordsMap, index, NOTES_MAP_SOLO));\r\n  }\r\n  return JSON.stringify(allChords);\r\n}\r\n\r\nexport { \r\n  transposeNote, \r\n  randomIntegerRange, \r\n  getDataSet, \r\n  createDurMeasure, \r\n  playChord, \r\n  transposeTonality,\r\n  convertChordStringToArr,\r\n  findNotes,\r\n  chordNamesToFullArr\r\n};\r\n","import React from \"react\";\r\nimport { playChord } from \"../../../MidiFileCreater/utils\";\r\n\r\nexport default function Chord(props) {\r\n  return (\r\n  <button id={props.id} key={props.id}  className=\"btn btn-outline-dark\" onClick={(e) => {\r\n    props.handleClick(e);\r\n    playChord(props.chordName);\r\n  }\r\n}>{props.chordName}</button>\r\n  )\r\n  \r\n  \r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <button className={`${props.class} btn-outline-dark`} onClick={props.handleClick}>\r\n      {props.text}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nexport default function ChordMenuEdit(props) {\r\n  return (\r\n    <div className=\"chord-menu\">\r\n        <Button class=\"btn\" handleClick={props.deleteChord} text=\"Delete chord\" />\r\n        <Button class=\"btn\"  handleClick={props.replaceChord} text=\"Replace chord\" />\r\n        <Button class=\"btn\"  handleClick={props.deselectChord} text=\"Cancel\" />\r\n    </div>\r\n  )\r\n  \r\n  \r\n}\r\n","import React, { Component } from \"react\";\r\nimport Chord from \"./Chord\";\r\nimport ChordMenuEdit from \"./ChordMenuEdit\";\r\n\r\nexport default class AddedChords extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  showMenu() {\r\n    return (\r\n      this.props.isSelection && (\r\n        <ChordMenuEdit\r\n          deleteChord={() => this.props.deleteChord(this.props.selectedChord)}\r\n          replaceChord={this.props.replaceChord}\r\n          deselectChord={this.props.deselectChord}\r\n        />\r\n      )\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"added-chords text-white\">\r\n        <h3 className=\"App-chord-editor text-white\">Added Chords</h3>\r\n        {this.showMenu()}\r\n        {this.props.chords.length > 0 ? (\r\n          <div className=\"grid-col-4\">\r\n            {this.props.chords.map((chord, idx) => (\r\n              <Chord\r\n                id={idx + \"-added-chord\"}\r\n                key={idx + \"-added-chord\"}\r\n                chordName={chord}\r\n                handleClick={this.props.selectChord}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          \"Chords have not been added!\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Chord from \"./Chord\";\r\n\r\nexport default class ChordAdder extends Component {\r\n  componentDidMount() {}\r\n\r\n  componentWillUnmount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App-chord-editor \">\r\n        <h3>Chord Adder</h3>\r\n        <div className=\"grid-col-4\">\r\n          {this.props.chords ? \r\n          this.props.chords.map((chord, idx) => (\r\n            <Chord\r\n              key={idx + \"-chord-to-add\"}\r\n              id={idx + \"-chord-to-add\"}\r\n              chordName={chord[0] + chord[1]}\r\n              handleClick={this.props.handleClick}\r\n            />\r\n          )) :\r\n          null\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { randomIntegerRange, findNotes } from \"./utils\";\r\n\r\nexport default function releases(chord) {\r\n  if (!chord) return;\r\n\r\n  let result;\r\n  if (chord[1] === \"dim7\") {\r\n    switch (randomIntegerRange(1, 5)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 1, \"maj\");\r\n        break;\r\n      case 2:\r\n        result = findNotes(chord[0], 4, \"m7\");\r\n        break;\r\n      case 3:\r\n        result = findNotes(chord[0], 7, \"maj\");\r\n        break;\r\n      case 4:\r\n        result = findNotes(chord[0], 10, \"m\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  if (chord[1] === \"7\") {\r\n    result = findNotes(chord[0], 5, Math.random() > 0.5 ? \"m7\" : \"maj\");\r\n    return result;\r\n  }\r\n  if (chord[1] === \"m7b5\") {\r\n    switch (randomIntegerRange(1, 8)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 5, \"7\");\r\n        break;\r\n        case 2:\r\n        result = findNotes(chord[0], 9, \"dim7\");\r\n        break;\r\n    \r\n      default:\r\n        break;\r\n    }\r\n    result = findNotes(chord[0], 5, \"7\");\r\n    return result;\r\n  }\r\n\r\n  if (chord[1] === \"m\" || chord[1] === \"m7\" || chord[1] === \"mAdd9\") {\r\n    switch (randomIntegerRange(1, 5)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 3, \"maj\");\r\n        break;\r\n      case 2:\r\n        result = findNotes(chord[0], 5, \"m7\");\r\n        break;\r\n      case 3:\r\n        result = findNotes(chord[0], 7, \"7\");\r\n        break;\r\n      case 4:\r\n        result = findNotes(chord[0], 8, \"maj\");\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  if (chord[1] === \"\" || chord[1] === \"maj\") {\r\n    switch (randomIntegerRange(1, 10)) {\r\n      case 1:\r\n        result = findNotes(chord[0], 2, \"m\");\r\n        break;\r\n      case 2:\r\n        result = findNotes(chord[0], 4, \"m7\");\r\n        break;\r\n      case 3:\r\n        result = findNotes(chord[0], 5, \"maj\");\r\n        break;\r\n      case 4:\r\n        result = findNotes(chord[0], 7, \"7\");\r\n        break;\r\n      case 5:\r\n        result = findNotes(chord[0], 9, \"m7\");\r\n        break;\r\n      case 6:\r\n        result = findNotes(chord[0], 11, \"m7b5\");\r\n        break;\r\n      case 7:\r\n        result = findNotes(chord[0], 2, \"7\");\r\n        break;\r\n      case 8:\r\n        result = findNotes(chord[0], 11, \"m7\");\r\n        break;\r\n      case 9:\r\n        result = findNotes(chord[0], 7, \"maj\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  return result;\r\n}\r\n\r\n","import ALL_CHORDS_FOR_IMPROVISE from \"../dataset/all_chords_for_impro\";\r\nimport { randomIntegerRange } from \"./utils\";\r\nimport releases from \"./Releaser\";\r\n\r\nexport default class MidiChordsCreator {\r\n  constructor() {\r\n    this.chords = [];\r\n  }\r\n\r\n  generateChords(all_chords, count) {\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n      const releaseChord = releases(result[i - 1]);\r\n      if (releaseChord) {\r\n        result.push(releaseChord);\r\n        continue;\r\n      }\r\n      const randTone = all_chords[randomIntegerRange(0, all_chords.length)];\r\n      let randChord = randTone[randomIntegerRange(0, randTone.length)];\r\n      result.push(randChord);\r\n    }\r\n    return result.slice(0, count);\r\n  }\r\n\r\n  getNewChords(count){\r\n   const chords = this.generateChords(ALL_CHORDS_FOR_IMPROVISE, count);\r\n      return chords;\r\n  }\r\n\r\n\r\n  getChords(){\r\n      return this.chords;\r\n  }\r\n}\r\n","import { convertChordStringToArr, findNotes } from \"./utils\";\r\n\r\nexport default class ItemsSearcher {\r\n  searchItems(chord) {\r\n    if (!chord) return;\r\n\r\n    chord = convertChordStringToArr(chord);\r\n\r\n    let result;\r\n    if (chord[1] === \"dim7\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"dim7\"],\r\n        [1, \"maj\"],\r\n        [4, \"m7\"],\r\n        [7, \"maj\"],\r\n        [10, \"m\"]\r\n      );\r\n    }\r\n    if (chord[1] === \"7\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"7\"],\r\n        [5, \"m7\"],\r\n        [5, \"m\"],\r\n        [5, \"\"],\r\n        [5, \"maj\"],\r\n        [2, \"m\"],\r\n        [2, \"m7\"]\r\n      );\r\n    }\r\n\r\n    if (chord[1] === \"m7b5\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"m7b5\"],\r\n        [10, \"m\"],\r\n        [10, \"m7\"],\r\n        [5, \"7\"],\r\n        [9, \"dim7\"]\r\n      );\r\n    }\r\n\r\n    if (chord[1] === \"m\" || chord[1] === \"m7\" || chord[1] === \"mAdd9\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"m\"],\r\n        [0, \"m7\"],\r\n        [2, \"7\"],\r\n        [3, \"maj\"],\r\n        [5, \"m7\"],\r\n        [7, \"7\"],\r\n        [7, \"m7\"],\r\n        [8, \"maj\"],\r\n        [10, \"maj\"]\r\n      );\r\n    }\r\n\r\n    if (chord[1] === \"\" || chord[1] === \"maj\") {\r\n      return findAllChords(\r\n        chord,\r\n        [0, \"\"],\r\n        [0, \"maj\"],\r\n        [2, \"m\"],\r\n        [4, \"\"],\r\n        [4, \"7\"],\r\n        [4, \"m7\"],\r\n        [5, \"maj\"],\r\n        [7, \"7\"],\r\n        [9, \"m7\"],\r\n        [11, \"m7b5\"],\r\n        [2, \"7\"],\r\n        [11, \"m7\"],\r\n        [7, \"maj\"]\r\n      );\r\n    }\r\n    if (!result.length) {\r\n      throw new Error(`Unknown chord ${chord[0] + chord[1]}`);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\n\r\n// export function chordNamesToFullArr(chordNames) {\r\n//   const chordsArrs = chordNames.map(chordString =>\r\n//     convertChordStringToArr(chordString)\r\n//   );\r\n//   const fullChordsArr = chordsArrs.map(chordsArr => findNotes(chordsArr[0], 0, chordsArr[1]))\r\n//   return fullChordsArr;\r\n// }\r\n\r\n// export function convertChordStringToArr(chord) {\r\n//   let tone;\r\n//   let chordFunction;\r\n//   if (chord[1] === \"#\") {\r\n//     tone = chord.slice(0, 2);\r\n//     chordFunction = chord.slice(2);\r\n//   } else {\r\n//     tone = chord.slice(0, 1);\r\n//     chordFunction = chord.slice(1);\r\n//   }\r\n\r\n//   return [tone, chordFunction];\r\n// }\r\n\r\n\r\nfunction findAllChords(chord, ...rest) {\r\n  const result = [];\r\n  rest.forEach(toFind => {\r\n    result.push(findNotes(chord[0], toFind[0], toFind[1]));\r\n  });\r\n  return result;\r\n}\r\n\r\n// export function findNotes(tone, step, type) {\r\n//   return chordsForImpro\r\n//     .find(tonica => tonica[0][0] === transposeNote(tone, step, NOTES_MAP_SOLO))\r\n//     .find(chord => chord[1] === type);\r\n// }\r\n","import React, { Component } from \"react\";\r\nimport AddedChords from \"./components/AddedChords\";\r\nimport ChordAdder from \"./components/ChordAdder\";\r\nimport MidiChordsCreator from \"../../MidiFileCreater/MidiChordsCreator\";\r\nimport ItemsSearcher from \"../../MidiFileCreater/ItemsSearcher\";\r\nimport Button from \"./components/Button\";\r\n\r\nexport default class ChordEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.chordsCreator = new MidiChordsCreator();\r\n    this.chordSearcher = new ItemsSearcher();\r\n    this.addChord = this.addChord.bind(this);\r\n    this.deleteChord = this.deleteChord.bind(this);\r\n    this.replaceChord = this.replaceChord.bind(this);\r\n    this.setUpForReplace = this.setUpForReplace.bind(this);\r\n    this.selectChord = this.selectChord.bind(this);\r\n    this.deselectChord = this.deselectChord.bind(this);\r\n    this.liftUpChords = this.liftUpChords.bind(this);\r\n    this.proposeChordsForLast = this.proposeChordsForLast.bind(this);\r\n    this.getRandomChords = this.getRandomChords.bind(this);\r\n    this.toggleAddedChordsLabel =  this.toggleAddedChordsLabel.bind(this)\r\n\r\n    this.state = {\r\n      chordsToAdd: this.chordSearcher.searchItems(\"C\"),\r\n      addedChords: [],\r\n      isForReplace: false,\r\n      isSelection: false,\r\n      selectedChord: null,\r\n      addedChordsLabel: \"Click 'Set these chords' to set\"\r\n    };\r\n  }\r\n\r\n  liftUpChords() {\r\n    if(this.state.addedChords.length < 1){\r\n      this.toggleAddedChordsLabel(2)\r\n      return;\r\n    }\r\n    this.props.setChords(this.state.addedChords, true)\r\n    this.toggleAddedChordsLabel(1)\r\n  }\r\n\r\n  toggleAddedChordsLabel(state) {\r\n    const map = {\r\n      0: \"Click 'Set these chords' to set\",\r\n      1: \"Chords have been added!\",\r\n      2: \"Chords have not been added!\"\r\n    }\r\n    this.setState({\r\n      addedChordsLabel: map[state]\r\n    });\r\n  }\r\n\r\n  selectChord(e) {\r\n    this.setState({\r\n      isSelection: true,\r\n      selectedChord: e.target\r\n    });\r\n  }\r\n\r\n  deselectChord() {\r\n    this.setState({\r\n      isSelection: false,\r\n      isForReplace: false,\r\n      selectedChord: null\r\n    });\r\n    this.proposeChordsForLast();\r\n  }\r\n\r\n  addChord(e) {\r\n    const oldState = [...this.state.addedChords];\r\n    this.setState({\r\n      chordsToAdd: this.chordSearcher.searchItems(e.target.innerText),\r\n      addedChords: [...oldState, e.target.innerText]\r\n    });\r\n  }\r\n\r\n  deleteChord(element) {\r\n    const deleteIdx = +element.id[0];\r\n    const newChords = [...this.state.addedChords];\r\n    newChords.splice(deleteIdx, 1);\r\n    this.setState({\r\n      addedChords: newChords\r\n    });\r\n  }\r\n\r\n  proposeChordsForLast() {\r\n    let last = this.state.addedChords[this.state.addedChords.length - 1];\r\n    if(!last){\r\n      last = 'C';\r\n    }\r\n    this.setState({\r\n      chordsToAdd: this.chordSearcher.searchItems(last)\r\n    });\r\n  }\r\n\r\n  setUpForReplace() {\r\n    const selectedIdx = +this.state.selectedChord.id[0];\r\n    const searchIdx = selectedIdx === 0 ? 0 : selectedIdx - 1;\r\n    this.setState({\r\n      chordsToAdd: this.chordSearcher.searchItems(\r\n        this.state.addedChords[searchIdx]\r\n      ),\r\n      isForReplace: true\r\n    });\r\n  }\r\n\r\n  replaceChord(e) {\r\n    const replaceIdx = +this.state.selectedChord.id[0];\r\n    const newChords = [...this.state.addedChords];\r\n    newChords.splice(replaceIdx, 1, e.target.innerText);\r\n    this.setState({\r\n      addedChords: newChords,\r\n      isForReplace: false\r\n    });\r\n  }\r\n\r\n  getRandomChords() {\r\n    const chords = this.chordsCreator.getNewChords(8);\r\n    console.log(chords);\r\n    this.setState({\r\n      addedChords: chords.map(chord => chord[0] + chord[1])\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"text-white\">\r\n        <AddedChords\r\n          chords={this.state.addedChords}\r\n          selectedChord={this.state.selectedChord}\r\n          selectChord={this.selectChord}\r\n          isSelection={this.state.isSelection}\r\n          deleteChord={this.deleteChord}\r\n          replaceChord={this.setUpForReplace}\r\n          deselectChord={this.deselectChord}\r\n        />\r\n        <ChordAdder\r\n          chords={this.state.chordsToAdd}\r\n          handleClick={\r\n            this.state.isForReplace ? this.replaceChord : this.addChord\r\n          }\r\n        />\r\n        <Button handleClick={this.getRandomChords} text=\"Set random chords\" class=\"btn btn-big mb-20\"/>\r\n        <div>\r\n        <Button handleClick={this.liftUpChords} text=\"Set these chords\" class=\"btn btn-big mb-20\"/>\r\n        </div>\r\n        {this.state.addedChordsLabel}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Selector({ name, id, options, handleChange }) {\r\n  return (\r\n    <select name={name} key={id} id={id} onChange={handleChange} className=\"selector mb-20\">\r\n        {\r\n            options.map((option, idx) => {\r\n            return <option key={idx} value={option[0]}>{`${name}: ${option[1]}`}</option>\r\n            })\r\n        }\r\n    </select>\r\n  );\r\n}\r\n","import {\r\n  randomIntegerRange,\r\n  createDurMeasure\r\n} from \"./utils\";\r\n\r\nexport default class PatternCreator {\r\n  getPattern(notesLengthType, type) {\r\n    const durs = createDurMeasure(notesLengthType, type);\r\n    const result = [];\r\n    durs.forEach((dur, idx) => {\r\n        console.log(idx);\r\n      if (idx === 0 && type === \"bass\") {\r\n        console.log(\"bass 0 note tonic\");\r\n        result.push({\r\n          chordPitch: 0,\r\n          dur: dur\r\n        });\r\n      }\r\n      else if (type === \"bass\" && idx === 1 && durs[0] < 0.25) {\r\n        console.log(\"bass 1 note tonic\");\r\n        result.push({\r\n          chordPitch: 0,\r\n          dur: dur\r\n        });\r\n      } else {\r\n          console.log('not the bass');\r\n        result.push({\r\n          chordPitch: randomIntegerRange(0, 3),\r\n          dur: dur\r\n        });\r\n      }\r\n    });\r\n    console.log(result);\r\n    console.log(result.reduce((acc, cur) => acc + cur.dur, 0));\r\n    return result;\r\n  }\r\n}\r\n","import { DURATIONS } from \"../dataset/dataset\";\r\nimport { randomIntegerRange, createDurMeasure } from \"./utils\";\r\n\r\nexport default class BarCreator {\r\n  constructor(notesLengthMode, type) {\r\n    this.type = type;\r\n    this.notesLengthMode = notesLengthMode;\r\n    this.toneJsArr = [];\r\n  }\r\n\r\n  getRandomBar(chord, idx, pattern) {\r\n    this.toneJsArr = this.createRandomBar(chord, pattern);\r\n    this.createOctave(idx);\r\n    return this.toneJsArr;\r\n  }\r\n\r\n  createRandomBar(chord, pattern) {\r\n    let resultBar = [];\r\n    if (pattern){\r\n        pattern.map(patternNote => {\r\n          resultBar.push({\r\n            note: chord[2][patternNote.chordPitch],\r\n            dur: patternNote.dur\r\n          })\r\n        })\r\n        return resultBar;\r\n    }\r\n    const durs = createDurMeasure(this.notesLengthMode);\r\n    for (let index = 0; index < durs.length; index++) {\r\n      // const chordNotes = 2;\r\n      // const chordModeNotes = 3;\r\n\r\n      // let notesMapIndex =\r\n      //   (this.type === \"soprano\" || this.type === \"tenor\") &&\r\n      //   durs[index] <= 0.125\r\n      //     ? chordModeNotes\r\n      //     : chordNotes;\r\n      const newNote = this.createRandomNote(chord[2], durs[index]);\r\n\r\n      // if (\r\n      //   this.type === \"no chomatic!\" &&\r\n      //   Math.random() > 0.75 &&\r\n      //   index % 2 === 1 &&\r\n      //   (chord[1] === \"7\" || chord[1] === \"dim7\" || chord[1] === \"m7b5\")\r\n      // ) {\r\n      //   const possibleChromatismNote = transposeNote(\r\n      //     newNote.note,\r\n      //     Math.random() > 0.5 ? -1 : 1,\r\n      //     NOTES_MAP\r\n      //   );\r\n      //   const possibleCrom = this.createRandomNote(\r\n      //     chord[2],\r\n      //     durs[++index] || 0.5,\r\n      //     possibleChromatismNote\r\n      //   );\r\n      //   resultBar.push(possibleCrom);\r\n      // }\r\n      resultBar.push(newNote);\r\n    }\r\n    return resultBar;\r\n  }\r\n\r\n  createOctave(idx) {\r\n    if (this.type === \"soprano\") {\r\n      this.toneJsArr = this.toneJsArr.map((note) => {\r\n        note.note =\r\n          note.note + (idx % 5 === 0 ? \"4\" : idx % 9 === 0 ? \"6\" : \"5\");\r\n        return note;\r\n      });\r\n    }\r\n    if (this.type === \"bass\") {\r\n      this.toneJsArr = this.toneJsArr.map(note => {\r\n          note.note = note.note + (idx % 6 === 0 ? \"1\" : \"2\");\r\n          return note;\r\n        })\r\n      \r\n    }\r\n    if (this.type === \"tenor\") {\r\n      this.toneJsArr = this.toneJsArr.map(note => {\r\n          note.note = note.note + (idx % 6 === 0 ? \"3\" : \"4\");\r\n          return note;\r\n        })\r\n    }\r\n  }\r\n\r\n  createRandomNote(notes, dur, note) {\r\n    const randNoteIndex = randomIntegerRange(0, notes.length);\r\n    const randNote = {\r\n      note: note ? note : notes[randNoteIndex],\r\n      dur: dur || 1 / +DURATIONS[randomIntegerRange(1, DURATIONS.length)]\r\n    };\r\n    return randNote;\r\n  }\r\n}\r\n","import PatternCreator from './PatternCreator'\r\nimport BarCreator from \"./BarCreator\";\r\n\r\nexport default class PartCreator {\r\n  constructor(chords, squaresCount, notesLength, type, pattern) {\r\n    this.pattern = pattern === 'accompaniment' && new PatternCreator().getPattern(notesLength, type);\r\n    console.log(this.pattern);\r\n    this.chords = chords;\r\n    this.barCreator = new BarCreator(notesLength, type);\r\n    this.squaresCountToAdd = squaresCount;\r\n    this.notes = [];\r\n    this.onInit();\r\n  }\r\n\r\n  onInit() {\r\n    this.createRandomPart();\r\n  }\r\n\r\n  createRandomPart() {\r\n    for (let index = 0; index < this.squaresCountToAdd; index++) {\r\n      for (let idx in this.chords) {\r\n        const newBar = this.barCreator.getRandomBar(this.chords[idx], idx, this.pattern)\r\n        this.notes = [...this.notes, ...newBar];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import PartCreator from './PartCreator'\r\n\r\nexport default class PartsFabric {\r\n    constructor(chords, squaresCount){\r\n        this.chords = chords;\r\n        console.log('this.chords ', this.chords);\r\n        this.parts = [];\r\n        this.squaresCount = squaresCount;\r\n    }\r\n\r\n    addPart(partOptions){\r\n        console.log(partOptions);\r\n        const part = new PartCreator(this.chords, this.squaresCount, partOptions.notes, partOptions.type, partOptions.pattern ).notes;\r\n        this.parts.push(part);\r\n        console.log(this.parts);\r\n    }\r\n\r\n    \r\n\r\n    getParts(){\r\n        return this.parts;\r\n    }\r\n}","import PartsFabric from \"./PartsFabric\";\r\nimport MidiChordsCreator from './MidiChordsCreator'\r\nimport { randomIntegerRange } from './utils'\r\nimport Midi from 'jsmidgen';\r\n\r\nexport default class CreateMidiFile {\r\n  constructor(chords, chordsCount = 8, loopCounts = 2, tempo = 120) {\r\n    this.chords = chords || new MidiChordsCreator(chordsCount);\r\n    this.partsFabric = new PartsFabric(chords || this.chords.getChords(), loopCounts);\r\n    this.file = new Midi.File();\r\n    this.parts = [];\r\n    this.tempo = randomIntegerRange(80, 130);\r\n  }\r\n\r\n  addPart(partOptions) {\r\n    this.partsFabric.addPart(partOptions);\r\n  }\r\n\r\n  createMidiFile() {\r\n    this.file = new Midi.File();\r\n  }\r\n\r\n  addAllPartsInFile(){\r\n      this.partsFabric.getParts().forEach((part) => this.addPartInFIle(part))\r\n  }\r\n\r\n  addPartInFIle(part) {\r\n    const track = new Midi.Track();\r\n    track.instrument(0, 0x1E);\r\n    track.setTempo(this.tempo);\r\n    for (let note of part) {\r\n        track.addNote(0, note.note, 512 * note.dur);\r\n    }\r\n    this.file.addTrack(track);\r\n  }\r\n\r\n  getURI() {\r\n    return \"data:audio/mid;base64,\" + btoa(this.file.toBytes());\r\n  }\r\n}\r\n","import CreateMidiFile from \"./CreateMidiFile\";\r\nexport default class FileEditor {\r\n  constructor() {\r\n    this.userChords = null;\r\n    this.midiCreator = null;\r\n    this.partOptions = {\r\n        type: \"soprano\",\r\n        notesLength: 'often',\r\n        function: 'solo'\r\n    };\r\n  }\r\n\r\n  createNewFile(chords){\r\n    this.midiCreator = new CreateMidiFile(chords);\r\n  }\r\n\r\n  generateMidi() {\r\n    this.midiCreator.addAllPartsInFile();\r\n    // this.downloadButton.setAttribute(\"href\", `${this.midiCreator.getURI()}`);\r\n    // this.midiCreator = new CreateMidiFile(this.userChords);\r\n  }\r\n\r\n  addNewPart() {\r\n    this.midiCreator.addPart(this.partOptions);\r\n    // const newPart = document.createElement(\"div\");\r\n    // newPart.innerText = this.addedPartText();\r\n  }\r\n  getURI(){\r\n    return this.midiCreator.getURI();\r\n  }\r\n  \r\n}\r\n","export default {\r\n    types: [\r\n        [\"soprano\", \"Soprano\"],\r\n        [\"tenor\", \"Tenor\"],\r\n        [\"bass\", \"Bass\"]\r\n      ],\r\n      function: [\r\n        [\"solo\", \"Solo\"],\r\n        [\"accompaniment\", \"Accompaniment\"]\r\n      ],\r\n      notes: [\r\n        [\"often\", \"Often notes\"],\r\n        [\"middle\", \"Middle notes\"],\r\n        [\"seldom\", \"Seldom notes\"],\r\n        [\"veryOften\", \"Very often notes\"],\r\n        [\"verySeldom\", \"Very seldom notes\"],\r\n        [\"whole\", \"Whole notes\"],\r\n        [\"half\", \"Half notes\"],\r\n        [\"quarter\", \"Quarter notes\"],\r\n        [\"eight\", \"Eight notes\"],\r\n        [\"sixteen\", \"Sixteen notes\"]\r\n      ]\r\n}","import React from \"react\";\r\n\r\nexport default function AddedPartHeader({ partOptions }) {\r\n  return (\r\n    <div className=\"added-parts__part text-white\">{`Added part: Type: ${partOptions.type}, Function: ${partOptions.function}, Notes: ${partOptions.notes}`}</div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AddedPartHeader from \"./AddedPartHeader\";\r\n\r\nexport default function AddedParts({ partOptionsArr }) {\r\n  return (\r\n      <div className=\"part-editor__added-parts mb-20 mt-20\">\r\n          {\r\n              partOptionsArr.map((partOptions, index) => <AddedPartHeader key={index} partOptions={partOptions} />)\r\n          }\r\n      </div>\r\n    \r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Selector from \"./components/Selector\";\r\nimport Button from \"../ChordEditor/components/Button\";\r\nimport FileEditor from \"../../MidiFileCreater/FileEditor\";\r\nimport partOptions from '../../dataset/partOptions';\r\nimport { chordNamesToFullArr } from \"../../MidiFileCreater/utils\";\r\nimport AddedParts from \"./components/AddedParts\";\r\n\r\nexport default class PartEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      partOptions: {\r\n        type: \"soprano\",\r\n        function: \"solo\",\r\n        notes: \"often\"\r\n      },\r\n      fileLink: null,\r\n      addedPartsHeaders: []\r\n    };\r\n    this.fileEditor = new FileEditor();\r\n    this.isFile = false;\r\n    this.types = partOptions.types;\r\n    this.function = partOptions.function;\r\n    this.notes = partOptions.notes;\r\n\r\n    this.handleSelectorsChange = this.handleSelectorsChange.bind(this);\r\n    this.addPart = this.addPart.bind(this);\r\n    this.generateMidi = this.generateMidi.bind(this);\r\n    this.createNewFile = this.createNewFile.bind(this);\r\n    this.fileDidDownloaded = this.fileDidDownloaded.bind(this);\r\n    \r\n    \r\n  }\r\n\r\n  handleSelectorsChange(e) {\r\n    const partOptions = JSON.parse(JSON.stringify(this.state.partOptions));\r\n    partOptions[e.target.name] = e.target.value;\r\n    this.setState({\r\n        partOptions\r\n    });\r\n  }\r\n\r\n  createNewFile(){\r\n    const fullChords = chordNamesToFullArr(this.props.chords);\r\n    console.log(fullChords);\r\n    this.fileEditor.createNewFile(fullChords);\r\n  }\r\n\r\n  addPart() {\r\n    // if(this.fileEditor.userChords === null){\r\n    //   return;\r\n    // }\r\n    if (!this.fileEditor.midiCreator) {\r\n     this.createNewFile();\r\n    }\r\n    this.fileEditor.partOptions = this.state.partOptions;\r\n    console.log(this.fileEditor.partOptions);\r\n    this.fileEditor.addNewPart();\r\n    const newPartHeader = this.state.partOptions;\r\n    this.setState({\r\n      addedPartsHeaders: [...this.state.addedPartsHeaders, newPartHeader]\r\n    })\r\n  }\r\n\r\n  fileDidDownloaded(){\r\n    this.props.setChords(null, false)\r\n      this.setState({\r\n        fileLink: null,\r\n        addedPartsHeaders: []\r\n      })\r\n  }\r\n\r\n  generateMidi() {\r\n    if(this.fileEditor.midiCreator === null){\r\n      console.log('add a part !');\r\n      return;\r\n    }\r\n    if(this.state.fileLink !== null){\r\n      console.log('file already generated!');\r\n      return;\r\n    }\r\n    this.fileEditor.generateMidi();\r\n    this.setState({\r\n    fileLink: <a href={this.fileEditor.getURI()}><Button class=\"btn btn-big\" handleClick={this.fileDidDownloaded} text=\"Download file\" /></a> \r\n    })\r\n    this.createNewFile();\r\n  }\r\n  componentDidMount() {}\r\n\r\n  componentWillUnmount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App-chord-editor\">\r\n        <h3>Part Editor</h3>\r\n        <Selector\r\n          name=\"type\"\r\n          id=\"part-type\"\r\n          options={this.types}\r\n          handleChange={this.handleSelectorsChange}\r\n        />\r\n        <Selector\r\n          name=\"function\"\r\n          id=\"part-function\"\r\n          options={this.function}\r\n          handleChange={this.handleSelectorsChange}\r\n        />\r\n        <Selector\r\n          name=\"notes\"\r\n          id=\"part-notes\"\r\n          options={this.notes}\r\n          handleChange={this.handleSelectorsChange}\r\n        />\r\n        <Button class=\"btn btn-big\" handleClick={this.addPart} text=\"Add a part in file\" />\r\n        <AddedParts partOptionsArr={this.state.addedPartsHeaders} />\r\n        <Button class=\"btn btn-big mb-20\" handleClick={this.generateMidi} text=\"Generate file\" />\r\n        {\r\n            this.state.fileLink\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ChordEditor from \"../ChordEditor/ChordEditor\";\r\nimport PartEditor from \"../PartEditor/PartEditor\";\r\n\r\nexport default class MainWindow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.chords = [];    \r\n    this.state = {\r\n      chordsToAdd: this.chords,\r\n      isChordsSet: false\r\n    };\r\n    this.setChords = this.setChords.bind(this);\r\n  }\r\n\r\n  setChords(chords, bool){\r\n    this.setState({\r\n      chordsToAdd: chords,\r\n      isChordsSet: bool\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"main-window\">\r\n        <ChordEditor setChords={this.setChords} chords={this.chords}/>\r\n        {\r\n          this.state.isChordsSet ? <PartEditor setChords={this.setChords} chords={this.state.chordsToAdd}/> : null\r\n        }\r\n        \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"App-footer text-white mb-20\">\r\n        <span>Petr Marchanka <a href=\"https://www.facebook.com/piatro.marchanka\">FaceBook</a> <a href=\"https://github.com/PyatroMarchanka\">Github</a> 2020</span>\r\n        \r\n        \r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header/Header\";\nimport MainWindow from \"./components/MainWindow/MainWindow\";\nimport Footer from \"./components/Footer/Footer\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    <div>\n    <Header />\n    <MainWindow />\n    <Footer />\n    </div>\n     \n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}